{"ast":null,"code":"var _jsxFileName = \"C:\\\\OfficeData\\\\Projects\\\\soc-portal\\\\src\\\\components\\\\PDFViewer.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef } from \"react\";\nimport * as pdfjsLib from \"pdfjs-dist/build/pdf\";\nimport \"pdfjs-dist/build/pdf.worker.entry\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\npdfjsLib.GlobalWorkerOptions.workerSrc = `https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.16.105/pdf.worker.min.js`;\nconst PDFViewer = ({\n  url\n}) => {\n  _s();\n  const containerRef = useRef(null);\n  useEffect(() => {\n    const renderPDF = async () => {\n      const container = containerRef.current;\n      if (!container) return;\n\n      // Clear previous canvases\n      while (container.firstChild) {\n        container.removeChild(container.firstChild);\n      }\n      const loadingTask = pdfjsLib.getDocument(url);\n      const pdf = await loadingTask.promise;\n      for (let pageNum = 1; pageNum <= pdf.numPages; pageNum++) {\n        const page = await pdf.getPage(pageNum);\n        const viewport = page.getViewport({\n          scale: 2\n        });\n        const canvas = document.createElement(\"canvas\");\n        const context = canvas.getContext(\"2d\");\n        canvas.height = viewport.height;\n        canvas.width = viewport.width;\n        const renderContext = {\n          canvasContext: context,\n          viewport: viewport\n        };\n        await page.render(renderContext).promise;\n        const wrapper = document.createElement(\"div\");\n        wrapper.style.overflowX = \"auto\";\n        wrapper.style.marginBottom = \"20px\";\n        wrapper.appendChild(canvas);\n        container.appendChild(wrapper);\n      }\n    };\n    renderPDF();\n  }, [url]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: containerRef,\n    style: {\n      maxWidth: \"100%\",\n      overflowY: \"auto\",\n      padding: \"10px\",\n      boxSizing: \"border-box\"\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this);\n};\n_s(PDFViewer, \"8puyVO4ts1RhCfXUmci3vLI3Njw=\");\n_c = PDFViewer;\nexport default PDFViewer;\nvar _c;\n$RefreshReg$(_c, \"PDFViewer\");","map":{"version":3,"names":["React","useEffect","useRef","pdfjsLib","jsxDEV","_jsxDEV","GlobalWorkerOptions","workerSrc","PDFViewer","url","_s","containerRef","renderPDF","container","current","firstChild","removeChild","loadingTask","getDocument","pdf","promise","pageNum","numPages","page","getPage","viewport","getViewport","scale","canvas","document","createElement","context","getContext","height","width","renderContext","canvasContext","render","wrapper","style","overflowX","marginBottom","appendChild","ref","maxWidth","overflowY","padding","boxSizing","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/OfficeData/Projects/soc-portal/src/components/PDFViewer.js"],"sourcesContent":["import React, { useEffect, useRef } from \"react\";\r\nimport * as pdfjsLib from \"pdfjs-dist/build/pdf\";\r\nimport \"pdfjs-dist/build/pdf.worker.entry\";\r\n\r\npdfjsLib.GlobalWorkerOptions.workerSrc = `https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.16.105/pdf.worker.min.js`;\r\n\r\nconst PDFViewer = ({ url }) => {\r\n  const containerRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    const renderPDF = async () => {\r\n      const container = containerRef.current;\r\n      if (!container) return;\r\n\r\n      // Clear previous canvases\r\n      while (container.firstChild) {\r\n        container.removeChild(container.firstChild);\r\n      }\r\n\r\n      const loadingTask = pdfjsLib.getDocument(url);\r\n      const pdf = await loadingTask.promise;\r\n\r\n      for (let pageNum = 1; pageNum <= pdf.numPages; pageNum++) {\r\n        const page = await pdf.getPage(pageNum);\r\n        const viewport = page.getViewport({ scale: 2 });\r\n\r\n        const canvas = document.createElement(\"canvas\");\r\n        const context = canvas.getContext(\"2d\");\r\n        canvas.height = viewport.height;\r\n        canvas.width = viewport.width;\r\n\r\n        const renderContext = {\r\n          canvasContext: context,\r\n          viewport: viewport,\r\n        };\r\n\r\n        await page.render(renderContext).promise;\r\n\r\n        const wrapper = document.createElement(\"div\");\r\n        wrapper.style.overflowX = \"auto\";\r\n        wrapper.style.marginBottom = \"20px\";\r\n        wrapper.appendChild(canvas);\r\n\r\n        container.appendChild(wrapper);\r\n      }\r\n    };\r\n\r\n    renderPDF();\r\n  }, [url]);\r\n\r\n  return (\r\n    <div\r\n      ref={containerRef}\r\n      style={{\r\n        maxWidth: \"100%\",\r\n        overflowY: \"auto\",\r\n        padding: \"10px\",\r\n        boxSizing: \"border-box\",\r\n      }}\r\n    />\r\n  );\r\n};\r\n\r\nexport default PDFViewer;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,MAAM,QAAQ,OAAO;AAChD,OAAO,KAAKC,QAAQ,MAAM,sBAAsB;AAChD,OAAO,mCAAmC;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE3CF,QAAQ,CAACG,mBAAmB,CAACC,SAAS,GAAG,0EAA0E;AAEnH,MAAMC,SAAS,GAAGA,CAAC;EAAEC;AAAI,CAAC,KAAK;EAAAC,EAAA;EAC7B,MAAMC,YAAY,GAAGT,MAAM,CAAC,IAAI,CAAC;EAEjCD,SAAS,CAAC,MAAM;IACd,MAAMW,SAAS,GAAG,MAAAA,CAAA,KAAY;MAC5B,MAAMC,SAAS,GAAGF,YAAY,CAACG,OAAO;MACtC,IAAI,CAACD,SAAS,EAAE;;MAEhB;MACA,OAAOA,SAAS,CAACE,UAAU,EAAE;QAC3BF,SAAS,CAACG,WAAW,CAACH,SAAS,CAACE,UAAU,CAAC;MAC7C;MAEA,MAAME,WAAW,GAAGd,QAAQ,CAACe,WAAW,CAACT,GAAG,CAAC;MAC7C,MAAMU,GAAG,GAAG,MAAMF,WAAW,CAACG,OAAO;MAErC,KAAK,IAAIC,OAAO,GAAG,CAAC,EAAEA,OAAO,IAAIF,GAAG,CAACG,QAAQ,EAAED,OAAO,EAAE,EAAE;QACxD,MAAME,IAAI,GAAG,MAAMJ,GAAG,CAACK,OAAO,CAACH,OAAO,CAAC;QACvC,MAAMI,QAAQ,GAAGF,IAAI,CAACG,WAAW,CAAC;UAAEC,KAAK,EAAE;QAAE,CAAC,CAAC;QAE/C,MAAMC,MAAM,GAAGC,QAAQ,CAACC,aAAa,CAAC,QAAQ,CAAC;QAC/C,MAAMC,OAAO,GAAGH,MAAM,CAACI,UAAU,CAAC,IAAI,CAAC;QACvCJ,MAAM,CAACK,MAAM,GAAGR,QAAQ,CAACQ,MAAM;QAC/BL,MAAM,CAACM,KAAK,GAAGT,QAAQ,CAACS,KAAK;QAE7B,MAAMC,aAAa,GAAG;UACpBC,aAAa,EAAEL,OAAO;UACtBN,QAAQ,EAAEA;QACZ,CAAC;QAED,MAAMF,IAAI,CAACc,MAAM,CAACF,aAAa,CAAC,CAACf,OAAO;QAExC,MAAMkB,OAAO,GAAGT,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC;QAC7CQ,OAAO,CAACC,KAAK,CAACC,SAAS,GAAG,MAAM;QAChCF,OAAO,CAACC,KAAK,CAACE,YAAY,GAAG,MAAM;QACnCH,OAAO,CAACI,WAAW,CAACd,MAAM,CAAC;QAE3Bf,SAAS,CAAC6B,WAAW,CAACJ,OAAO,CAAC;MAChC;IACF,CAAC;IAED1B,SAAS,CAAC,CAAC;EACb,CAAC,EAAE,CAACH,GAAG,CAAC,CAAC;EAET,oBACEJ,OAAA;IACEsC,GAAG,EAAEhC,YAAa;IAClB4B,KAAK,EAAE;MACLK,QAAQ,EAAE,MAAM;MAChBC,SAAS,EAAE,MAAM;MACjBC,OAAO,EAAE,MAAM;MACfC,SAAS,EAAE;IACb;EAAE;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEN,CAAC;AAACzC,EAAA,CAvDIF,SAAS;AAAA4C,EAAA,GAAT5C,SAAS;AAyDf,eAAeA,SAAS;AAAC,IAAA4C,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}