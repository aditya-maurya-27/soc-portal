{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Dell\\\\OneDrive\\\\Desktop\\\\Programs\\\\soc-portal\\\\src\\\\pages\\\\Shifts.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport FullCalendar from \"@fullcalendar/react\";\nimport dayGridPlugin from \"@fullcalendar/daygrid\";\nimport timeGridPlugin from \"@fullcalendar/timegrid\";\nimport interactionPlugin from \"@fullcalendar/interaction\";\nimport Modal from \"react-modal\"; // ✅ Modal added\nimport { AuthProvider, useAuth } from \"../context/AuthContext\";\nimport \"../styles/Shifts.css\";\n\n// Set modal root for accessibility\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nModal.setAppElement(\"#root\");\nconst Shifts = () => {\n  _s();\n  const {\n    user\n  } = useAuth(AuthProvider);\n  const [shifts, setShifts] = useState([]);\n  const [selectedShift, setSelectedShift] = useState(null);\n  const [comment, setComment] = useState(\"\");\n  const [commentsMap, setCommentsMap] = useState({});\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  useEffect(() => {\n    const sampleShifts = [{\n      id: 1,\n      title: \"Morning Shift - Aditya Maurya\",\n      start: \"2025-04-06T08:00:00\",\n      end: \"2025-04-06T12:00:00\",\n      backgroundColor: \"#28a745\",\n      // Green\n      borderColor: \"#28a745\",\n      textColor: \"#fff\"\n    }, {\n      id: 2,\n      title: \"Afternoon Shift - B\",\n      start: \"2025-04-06T12:00:00\",\n      end: \"2025-04-06T16:00:00\",\n      backgroundColor: \"#ffc107\",\n      // Yellow\n      borderColor: \"#ffc107\",\n      textColor: \"#fff\"\n    }, {\n      id: 3,\n      title: \"Evening Shift - C\",\n      start: \"2025-04-06T16:00:00\",\n      end: \"2025-04-06T20:00:00\",\n      backgroundColor: \"#007bff\",\n      // Blue\n      borderColor: \"#007bff\",\n      textColor: \"#fff\"\n    }];\n    setShifts(sampleShifts);\n  }, []);\n  const handleEventClick = info => {\n    const shift = info.event;\n    setSelectedShift(shift);\n    setComment(commentsMap[shift.id] || \"\");\n    setIsModalOpen(true);\n  };\n  const isWithinShift = () => {\n    if (!selectedShift) return false;\n    const now = new Date();\n    const start = new Date(selectedShift.start);\n    const end = new Date(selectedShift.end);\n    return now >= start && now <= end;\n  };\n  const handleSave = () => {\n    if (selectedShift) {\n      setCommentsMap(prev => ({\n        ...prev,\n        [selectedShift.id]: comment\n      }));\n    }\n    setIsModalOpen(false);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"shifts-wrapper\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"shifts-calendar\",\n      children: /*#__PURE__*/_jsxDEV(FullCalendar, {\n        plugins: [interactionPlugin, dayGridPlugin, timeGridPlugin],\n        allDaySlot: false,\n        initialView: \"timeGridDay\",\n        slotMinTime: \"07:00:00\",\n        slotMaxTime: \"21:00:00\",\n        headerToolbar: {\n          left: \"prev,next today\",\n          center: \"title\",\n          right: \"timeGridDay,timeGridWeek,dayGridMonth\"\n        },\n        events: shifts,\n        editable: false,\n        height: \"auto\",\n        eventClick: handleEventClick,\n        eventDidMount: info => {\n          info.el.setAttribute(\"title\", info.event.title);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      isOpen: isModalOpen,\n      onRequestClose: () => setIsModalOpen(false),\n      contentLabel: \"Analyst Comments\",\n      className: \"modal\",\n      overlayClassName: \"overlay\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Analyst Comments\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        rows: 10,\n        cols: 60,\n        value: comment,\n        onChange: e => setComment(e.target.value),\n        disabled: !isWithinShift()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: \"10px\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleSave,\n          disabled: !isWithinShift(),\n          style: {\n            marginRight: \"10px\"\n          },\n          children: \"Save\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setIsModalOpen(false),\n          children: \"Close\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }, this), !isWithinShift() && /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          color: \"red\",\n          marginTop: \"10px\"\n        },\n        children: \"You can only edit comments during your shift time.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 83,\n    columnNumber: 5\n  }, this);\n};\n_s(Shifts, \"hqhLUHtgH6VVEuR1Q3h6dT7xieE=\", false, function () {\n  return [useAuth];\n});\n_c = Shifts;\nexport default Shifts;\nvar _c;\n$RefreshReg$(_c, \"Shifts\");","map":{"version":3,"names":["React","useState","useEffect","FullCalendar","dayGridPlugin","timeGridPlugin","interactionPlugin","Modal","AuthProvider","useAuth","jsxDEV","_jsxDEV","setAppElement","Shifts","_s","user","shifts","setShifts","selectedShift","setSelectedShift","comment","setComment","commentsMap","setCommentsMap","isModalOpen","setIsModalOpen","sampleShifts","id","title","start","end","backgroundColor","borderColor","textColor","handleEventClick","info","shift","event","isWithinShift","now","Date","handleSave","prev","className","children","plugins","allDaySlot","initialView","slotMinTime","slotMaxTime","headerToolbar","left","center","right","events","editable","height","eventClick","eventDidMount","el","setAttribute","fileName","_jsxFileName","lineNumber","columnNumber","isOpen","onRequestClose","contentLabel","overlayClassName","rows","cols","value","onChange","e","target","disabled","style","marginTop","onClick","marginRight","color","_c","$RefreshReg$"],"sources":["C:/Users/Dell/OneDrive/Desktop/Programs/soc-portal/src/pages/Shifts.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport FullCalendar from \"@fullcalendar/react\";\r\nimport dayGridPlugin from \"@fullcalendar/daygrid\";\r\nimport timeGridPlugin from \"@fullcalendar/timegrid\";\r\nimport interactionPlugin from \"@fullcalendar/interaction\";\r\nimport Modal from \"react-modal\"; // ✅ Modal added\r\nimport { AuthProvider, useAuth } from \"../context/AuthContext\";\r\nimport \"../styles/Shifts.css\";\r\n\r\n// Set modal root for accessibility\r\nModal.setAppElement(\"#root\");\r\n\r\nconst Shifts = () => {\r\n  const { user } = useAuth(AuthProvider);\r\n  const [shifts, setShifts] = useState([]);\r\n  const [selectedShift, setSelectedShift] = useState(null);\r\n  const [comment, setComment] = useState(\"\");\r\n  const [commentsMap, setCommentsMap] = useState({});\r\n  const [isModalOpen, setIsModalOpen] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const sampleShifts = [\r\n      {\r\n        id: 1,\r\n        title: \"Morning Shift - Aditya Maurya\",\r\n        start: \"2025-04-06T08:00:00\",\r\n        end: \"2025-04-06T12:00:00\",\r\n        backgroundColor: \"#28a745\", // Green\r\n        borderColor: \"#28a745\",\r\n        textColor: \"#fff\"\r\n\r\n      },\r\n      {\r\n        id: 2,\r\n        title: \"Afternoon Shift - B\",\r\n        start: \"2025-04-06T12:00:00\",\r\n        end: \"2025-04-06T16:00:00\",\r\n        backgroundColor: \"#ffc107\", // Yellow\r\n        borderColor: \"#ffc107\",\r\n        textColor: \"#fff\"\r\n\r\n      },\r\n      {\r\n        id: 3,\r\n        title: \"Evening Shift - C\",\r\n        start: \"2025-04-06T16:00:00\",\r\n        end: \"2025-04-06T20:00:00\",\r\n        backgroundColor: \"#007bff\", // Blue\r\n        borderColor: \"#007bff\",\r\n        textColor: \"#fff\"\r\n\r\n      },\r\n    ];\r\n    setShifts(sampleShifts);\r\n  }, []);\r\n\r\n  const handleEventClick = (info) => {\r\n    const shift = info.event;\r\n    setSelectedShift(shift);\r\n    setComment(commentsMap[shift.id] || \"\");\r\n    setIsModalOpen(true);\r\n  };\r\n\r\n  const isWithinShift = () => {\r\n    if (!selectedShift) return false;\r\n    const now = new Date();\r\n    const start = new Date(selectedShift.start);\r\n    const end = new Date(selectedShift.end);\r\n    return now >= start && now <= end;\r\n  };\r\n\r\n  const handleSave = () => {\r\n    if (selectedShift) {\r\n      setCommentsMap((prev) => ({\r\n        ...prev,\r\n        [selectedShift.id]: comment,\r\n      }));\r\n    }\r\n    setIsModalOpen(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"shifts-wrapper\">\r\n      <div className=\"shifts-calendar\">\r\n        <FullCalendar\r\n          plugins={[interactionPlugin, dayGridPlugin, timeGridPlugin]}\r\n          allDaySlot={false}\r\n          initialView=\"timeGridDay\"\r\n          slotMinTime={\"07:00:00\"}\r\n          slotMaxTime={\"21:00:00\"}\r\n          headerToolbar={{\r\n            left: \"prev,next today\",\r\n            center: \"title\",\r\n            right: \"timeGridDay,timeGridWeek,dayGridMonth\",\r\n          }}\r\n          events={shifts}\r\n          editable={false}\r\n          height=\"auto\"\r\n          eventClick={handleEventClick}\r\n          eventDidMount={(info) => {\r\n            info.el.setAttribute(\"title\", info.event.title);\r\n          }}\r\n        />\r\n      </div>\r\n\r\n      {/* ✅ Analyst Comments Modal */}\r\n      <Modal\r\n        isOpen={isModalOpen}\r\n        onRequestClose={() => setIsModalOpen(false)}\r\n        contentLabel=\"Analyst Comments\"\r\n        className=\"modal\"\r\n        overlayClassName=\"overlay\"\r\n      >\r\n        <h2>Analyst Comments</h2>\r\n        <textarea\r\n          rows={10}\r\n          cols={60}\r\n          value={comment}\r\n          onChange={(e) => setComment(e.target.value)}\r\n          disabled={!isWithinShift()}\r\n        />\r\n        <div style={{ marginTop: \"10px\" }}>\r\n          <button\r\n            onClick={handleSave}\r\n            disabled={!isWithinShift()}\r\n            style={{ marginRight: \"10px\" }}\r\n          >\r\n            Save\r\n          </button>\r\n          <button onClick={() => setIsModalOpen(false)}>Close</button>\r\n        </div>\r\n        {!isWithinShift() && (\r\n          <p style={{ color: \"red\", marginTop: \"10px\" }}>\r\n            You can only edit comments during your shift time.\r\n          </p>\r\n        )}\r\n      </Modal>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Shifts;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}