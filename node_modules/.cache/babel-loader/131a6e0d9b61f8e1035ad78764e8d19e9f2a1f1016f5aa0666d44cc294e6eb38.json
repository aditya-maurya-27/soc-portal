{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { EventHandler, formatUnit, isNullOrUndefined, createElement, addClass, append, prepend, remove, extend } from '@syncfusion/ej2-base';\nimport { ViewBase } from './view-base';\nimport { MonthEvent } from '../event-renderer/month';\nimport * as util from '../base/util';\nimport * as event from '../base/constant';\nimport * as cls from '../base/css-constant';\n/**\n * month view\n */\nvar Month = /** @class */function (_super) {\n  __extends(Month, _super);\n  function Month(parent) {\n    var _this = _super.call(this, parent) || this;\n    _this.dayNameFormat = 'wide';\n    _this.viewClass = 'e-month-view';\n    _this.isInverseTableSelect = false;\n    _this.monthEvent = null;\n    _this.monthDates = {};\n    return _this;\n  }\n  Month.prototype.addEventListener = function () {\n    this.parent.on(event.scrollUiUpdate, this.onScrollUIUpdate, this);\n    this.parent.on(event.dataReady, this.onDataReady, this);\n    this.parent.on(event.cellClick, this.onCellClick, this);\n  };\n  Month.prototype.removeEventListener = function () {\n    if (this.parent) {\n      this.parent.off(event.scrollUiUpdate, this.onScrollUIUpdate);\n      this.parent.off(event.dataReady, this.onDataReady);\n      this.parent.off(event.cellClick, this.onCellClick);\n    }\n  };\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  Month.prototype.onDataReady = function (args) {\n    this.monthEvent = new MonthEvent(this.parent);\n    this.monthEvent.renderAppointments();\n    this.parent.notify(event.eventsLoaded, {});\n  };\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  Month.prototype.onCellClick = function (event) {};\n  Month.prototype.onContentScroll = function (e) {\n    this.parent.removeNewEventElement();\n    this.parent.notify(event.virtualScroll, e);\n    this.scrollTopPanel(e.target);\n    this.scrollLeftPanel(e.target);\n    this.parent.uiStateValues.top = e.target.scrollTop;\n    this.parent.uiStateValues.left = e.target.scrollLeft;\n    this.setPersistence();\n  };\n  Month.prototype.scrollLeftPanel = function (target) {\n    var leftPanel = this.getLeftPanelElement();\n    if (leftPanel) {\n      leftPanel.scrollTop = target.scrollTop;\n    }\n  };\n  Month.prototype.getLeftPanelElement = function () {\n    return this.element.querySelector('.' + cls.WEEK_NUMBER_WRAPPER_CLASS);\n  };\n  Month.prototype.onScrollUIUpdate = function (args) {\n    var headerHeight = this.getHeaderBarHeight();\n    var header = this.getDatesHeaderElement();\n    var content = this.getContentAreaElement();\n    var height = this.parent.element.offsetHeight - headerHeight - header.offsetHeight;\n    var leftPanel = this.getLeftPanelElement();\n    if (this.parent.height !== 'auto') {\n      this.setContentHeight(content, leftPanel, height);\n    }\n    var scrollBarWidth = util.getScrollBarWidth();\n    header.firstElementChild.style[args.cssProperties.rtlBorder] = '';\n    header.style[args.cssProperties.rtlPadding] = '';\n    if (content.offsetWidth - content.clientWidth > 0) {\n      header.firstElementChild.style[args.cssProperties.border] = scrollBarWidth > 0 ? '1px' : '0px';\n      header.style[args.cssProperties.padding] = scrollBarWidth > 0 ? scrollBarWidth - 1 + 'px' : '0px';\n    } else {\n      header.firstElementChild.style[args.cssProperties.border] = '';\n      header.style[args.cssProperties.padding] = '';\n    }\n    this.setColWidth(content);\n    if (args.scrollPosition || !args.isPreventScrollUpdate && this.parent.currentView === 'TimelineMonth') {\n      var top_1 = this.parent.currentView === 'TimelineMonth' ? this.parent.uiStateValues.top : args.scrollPosition.top;\n      if (leftPanel) {\n        leftPanel.scrollTop = top_1;\n      }\n      content.scrollTop = top_1;\n      if (this.parent.uiStateValues.isInitial) {\n        this.scrollToSelectedDate();\n        this.parent.uiStateValues.isInitial = false;\n      } else {\n        content.scrollLeft = this.parent.currentView === 'TimelineMonth' ? this.parent.uiStateValues.left : args.scrollPosition.left;\n      }\n    }\n    this.retainScrollPosition();\n  };\n  Month.prototype.scrollToSelectedDate = function () {\n    var selectedDate = new Date(this.parent.selectedDate);\n    selectedDate.setHours(0, 0, 0, 0);\n    var headerCell = this.element.querySelector('.' + cls.HEADER_CELLS_CLASS + '[data-date=\"' + selectedDate.getTime().toString() + '\"]');\n    var content = this.getContentAreaElement();\n    if (!isNullOrUndefined(headerCell)) {\n      content.scrollLeft = !this.parent.enableRtl ? headerCell.offsetLeft : -(this.parent.getContentTable().offsetWidth - headerCell.offsetLeft - headerCell.offsetWidth);\n    } else {\n      content.scrollLeft = 0;\n    }\n    if (content.scrollLeft === 0 && this.parent.uiStateValues.isInitial) {\n      this.parent.uiStateValues.left = 0;\n    }\n  };\n  Month.prototype.setContentHeight = function (content, leftPanelElement, height) {\n    content.style.height = 'auto';\n    if (this.parent.currentView === 'Month') {\n      content.style.height = formatUnit(height);\n    }\n    if (leftPanelElement) {\n      if (this.parent.currentView === 'MonthAgenda') {\n        height = this.parent.activeViewOptions.interval > 1 ? this.getContentAreaElement().firstElementChild.offsetHeight : this.element.querySelector('.' + cls.CONTENT_TABLE_CLASS).offsetHeight;\n      }\n      leftPanelElement.style.height = 'auto';\n      leftPanelElement.style.height = formatUnit(height - this.getScrollXIndent(content));\n    }\n  };\n  Month.prototype.generateColumnLevels = function () {\n    var colLevels = [];\n    var level = this.getDateSlots(this.renderDates, this.parent.activeViewOptions.workDays);\n    if (this.parent.activeViewOptions.group.resources.length > 0) {\n      colLevels = this.parent.resourceBase.generateResourceLevels(level);\n      if (this.parent.currentView === 'MonthAgenda') {\n        colLevels = [level];\n      }\n      if (this.parent.uiStateValues.isGroupAdaptive && this.parent.resourceBase.lastResourceLevel.length > 0) {\n        var resourceLevel = this.parent.resourceBase.lastResourceLevel[this.parent.uiStateValues.groupIndex];\n        var levels_1 = this.getDateSlots(resourceLevel.renderDates, resourceLevel.workDays);\n        if (this.parent.activeViewOptions.group.byDate && this.parent.activeViewOptions.group.hideNonWorkingDays) {\n          var index = levels_1.findIndex(function (x, index) {\n            return index !== 0 && x.date.getDay() === levels_1[0].date.getDay();\n          });\n          levels_1 = index > -1 ? levels_1.slice(0, index) : levels_1;\n        }\n        colLevels = [levels_1];\n      }\n    } else {\n      colLevels.push(level);\n    }\n    this.colLevels = colLevels;\n    return colLevels;\n  };\n  Month.prototype.getDateSlots = function (renderDates, workDays) {\n    var count = this.parent.activeViewOptions.showWeekend ? util.WEEK_LENGTH : workDays.length;\n    var dateSlots = [];\n    var isCurrentMonth = this.isCurrentMonth(this.parent.selectedDate);\n    for (var col = 0; col < count; col++) {\n      var classList = [cls.HEADER_CELLS_CLASS];\n      var currentDateIndex = renderDates.slice(0, count).map(function (date) {\n        return date.getDay();\n      });\n      if (isCurrentMonth && currentDateIndex.indexOf(this.parent.currentTimezoneDate.getDay()) === col) {\n        classList.push(cls.CURRENT_DAY_CLASS);\n      }\n      dateSlots.push({\n        date: renderDates[parseInt(col.toString(), 10)],\n        type: 'monthDay',\n        className: classList,\n        colSpan: 1,\n        workDays: workDays\n      });\n    }\n    return dateSlots;\n  };\n  Month.prototype.getDayNameFormat = function () {\n    if (this.parent.isAdaptive || this.parent.activeViewOptions.group.resources.length > 0) {\n      return 'abbreviated';\n    }\n    return 'wide';\n  };\n  Month.prototype.renderLayout = function (type) {\n    this.dayNameFormat = this.getDayNameFormat();\n    this.setPanel(createElement('div', {\n      className: cls.TABLE_WRAP_CLASS\n    }));\n    var clsList = [this.viewClass];\n    clsList.push(type);\n    if (this.parent.activeViewOptions.group.byDate) {\n      clsList.push('e-by-date');\n      if (this.parent.currentView !== 'Month') {\n        this.parent.activeViewOptions.group.hideNonWorkingDays = false;\n      }\n    }\n    if (this.parent.activeViewOptions.allowVirtualScrolling && !this.parent.uiStateValues.isGroupAdaptive) {\n      clsList.push(cls.VIRTUAL_SCROLL_CLASS);\n    }\n    if (this.parent.rowAutoHeight && this.parent.eventSettings.ignoreWhitespace) {\n      clsList.push(cls.IGNORE_WHITESPACE);\n    }\n    addClass([this.element], clsList);\n    this.renderPanel(type);\n    this.element.appendChild(this.createTableLayout(cls.OUTER_TABLE_CLASS));\n    this.element.querySelector('table').setAttribute('role', 'presentation');\n    this.colLevels = this.generateColumnLevels();\n    this.renderHeader();\n    this.renderContent();\n    var target = this.parent.currentView === 'MonthAgenda' ? this.parent.activeView.getPanel() : this.parent.element;\n    if (this.parent.uiStateValues.isGroupAdaptive && !target.querySelector('.' + cls.RESOURCE_TOOLBAR_CONTAINER)) {\n      this.renderResourceMobileLayout();\n    }\n    this.parent.notify(event.contentReady, {});\n    if (this.parent.uiStateValues.isCustomMonth) {\n      this.parent.uiStateValues.isCustomMonth = false;\n    }\n  };\n  Month.prototype.refreshHeader = function () {\n    remove(this.element.querySelector('tbody tr'));\n    this.renderHeader();\n    this.parent.notify(event.contentReady, {});\n    var dateHeader = this.element.querySelector('.' + cls.DATE_HEADER_WRAP_CLASS);\n    var contentWrapper = this.element.querySelector('.' + cls.CONTENT_WRAP_CLASS);\n    if (dateHeader) {\n      dateHeader.scrollLeft = this.parent.uiStateValues.left;\n    }\n    if (contentWrapper) {\n      contentWrapper.scrollLeft = this.parent.uiStateValues.left;\n    }\n  };\n  Month.prototype.wireCellEvents = function (element) {\n    EventHandler.add(element, 'mousedown', this.parent.workCellAction.cellMouseDown, this.parent.workCellAction);\n    EventHandler.add(element, 'click', this.parent.workCellAction.cellClick, this.parent.workCellAction);\n    if (!this.parent.isAdaptive) {\n      EventHandler.add(element, 'dblclick', this.parent.workCellAction.cellDblClick, this.parent.workCellAction);\n    }\n  };\n  Month.prototype.renderHeader = function () {\n    var tr = createElement('tr');\n    this.renderLeftIndent(tr);\n    var dateTd = createElement('td');\n    dateTd.appendChild(this.renderDatesHeader());\n    tr.appendChild(dateTd);\n    prepend([tr], this.element.querySelector('tbody'));\n  };\n  Month.prototype.renderLeftIndent = function (tr) {\n    if (this.parent.activeViewOptions.showWeekNumber) {\n      tr.appendChild(createElement('td', {\n        className: 'e-left-indent'\n      }));\n    }\n  };\n  Month.prototype.renderContent = function () {\n    if (this.parent.activeViewOptions.group.resources.length > 0) {\n      this.parent.resourceBase.renderedResources = extend([], this.parent.resourceBase.lastResourceLevel, null, true);\n    }\n    var tr = createElement('tr');\n    if (this.parent.activeViewOptions.showWeekNumber) {\n      tr.appendChild(this.renderWeekNumberContent());\n    }\n    var workTd = createElement('td');\n    var levels = this.colLevels.slice(0);\n    if (this.parent.virtualScrollModule) {\n      this.resetColLevels();\n    }\n    var wrap = createElement('div', {\n      className: cls.CONTENT_WRAP_CLASS\n    });\n    var contentArea = this.renderContentArea();\n    if (this.parent.currentView === 'Month') {\n      wrap.appendChild(contentArea);\n    } else {\n      var monthAgendaWrapper = createElement('div', {\n        className: cls.TABLE_CONTAINER_CLASS\n      });\n      monthAgendaWrapper.appendChild(contentArea);\n      wrap.appendChild(monthAgendaWrapper);\n    }\n    EventHandler.add(wrap, 'scroll', this.onContentScroll, this);\n    workTd.appendChild(wrap);\n    tr.appendChild(workTd);\n    if (this.parent.virtualScrollModule) {\n      this.colLevels = levels;\n      this.parent.virtualScrollModule.renderVirtualTrack(wrap);\n    }\n    this.element.querySelector('tbody').appendChild(tr);\n    this.renderAppointmentContainer();\n  };\n  Month.prototype.renderWeekNumberContent = function () {\n    var dateCol = this.renderDates.map(function (date) {\n      return new Date(+date);\n    });\n    var td = createElement('td');\n    var contentWrapper = createElement('div', {\n      className: cls.WEEK_NUMBER_WRAPPER_CLASS\n    });\n    td.appendChild(contentWrapper);\n    var contentWrapTable = this.createTableLayout();\n    contentWrapper.appendChild(contentWrapTable);\n    var noOfDays = this.parent.activeViewOptions.showWeekend ? util.WEEK_LENGTH : this.parent.activeViewOptions.workDays.length;\n    for (var i = 0, length_1 = this.renderDates.length / noOfDays; i < length_1; i++) {\n      var dates = dateCol.splice(0, noOfDays);\n      var weekNumber = this.parent.getWeekNumberContent(dates);\n      contentWrapTable.querySelector('tbody').appendChild(this.createWeekNumberElement(weekNumber));\n    }\n    return td;\n  };\n  Month.prototype.renderAppointmentContainer = function () {\n    //Here needs to render mobile view appointment details on selected date\n  };\n  Month.prototype.renderDatesHeader = function () {\n    var container = createElement('div', {\n      className: cls.DATE_HEADER_CONTAINER_CLASS\n    });\n    var wrap = createElement('div', {\n      className: cls.DATE_HEADER_WRAP_CLASS\n    });\n    container.appendChild(wrap);\n    var table = this.createTableLayout();\n    if (this.parent.currentView === 'Month') {\n      var thead = createElement('thead');\n      thead.appendChild(createElement('tr'));\n      prepend([thead], table);\n    }\n    this.createColGroup(table, this.colLevels[this.colLevels.length - 1]);\n    var trEle = createElement('tr');\n    for (var i = 0; i < this.colLevels.length; i++) {\n      var level = this.colLevels[parseInt(i.toString(), 10)];\n      var ntr = trEle.cloneNode();\n      for (var j = 0; j < level.length; j++) {\n        var td = level[parseInt(j.toString(), 10)];\n        ntr.appendChild(this.createHeaderCell(td));\n      }\n      table.querySelector('tbody').appendChild(ntr);\n    }\n    wrap.appendChild(table);\n    return container;\n  };\n  Month.prototype.createHeaderCell = function (td) {\n    var tdEle = createElement('td');\n    this.addAttributes(td, tdEle);\n    if (td.type === 'monthDay') {\n      var ele = createElement('span', {\n        innerHTML: util.capitalizeFirstWord(this.parent.getDayNames(this.dayNameFormat)[td.date.getDay()], 'single')\n      });\n      tdEle.appendChild(ele);\n    }\n    if (td.type === 'resourceHeader') {\n      this.setResourceHeaderContent(tdEle, td);\n    }\n    if (td.type === 'dateHeader') {\n      addClass([tdEle], cls.DATE_HEADER_CLASS);\n      tdEle.setAttribute('data-date', td.date.getTime().toString());\n      if (this.parent.activeViewOptions.dateHeaderTemplate) {\n        var cellArgs = {\n          date: td.date,\n          type: td.type\n        };\n        var elementId = this.parent.element.id + '_';\n        var viewName = this.parent.activeViewOptions.dateHeaderTemplateName;\n        var templateId = elementId + viewName + 'dateHeaderTemplate';\n        var dateTemplate = [].slice.call(this.parent.getDateHeaderTemplate()(cellArgs, this.parent, 'dateHeaderTemplate', templateId, false, undefined, undefined, this.parent.root));\n        if (dateTemplate && dateTemplate.length) {\n          append(dateTemplate, tdEle);\n        }\n      } else {\n        var ele = createElement('span', {\n          className: cls.NAVIGATE_CLASS\n        });\n        var skeleton = 'full';\n        var title = this.parent.globalize.formatDate(td.date, {\n          skeleton: skeleton,\n          calendar: this.parent.getCalendarMode()\n        });\n        ele.setAttribute('title', util.capitalizeFirstWord(title, 'multiple'));\n        var innerText = this.parent.calendarUtil.isMonthStart(td.date) && !this.isCurrentDate(td.date) && !this.parent.isAdaptive ? this.parent.globalize.formatDate(td.date, {\n          format: 'MMM d',\n          calendar: this.parent.getCalendarMode()\n        }) : this.parent.globalize.formatDate(td.date, {\n          skeleton: 'd',\n          calendar: this.parent.getCalendarMode()\n        });\n        ele.innerHTML = util.capitalizeFirstWord(innerText, 'single');\n        tdEle.appendChild(ele);\n      }\n      this.wireCellEvents(tdEle);\n    }\n    var args = {\n      elementType: td.type,\n      element: tdEle,\n      date: td.date,\n      groupIndex: td.groupIndex\n    };\n    this.parent.trigger(event.renderCell, args);\n    return tdEle;\n  };\n  Month.prototype.getContentSlots = function () {\n    if (!(this.colLevels[this.colLevels.length - 1] && this.colLevels[this.colLevels.length - 1][0])) {\n      return [];\n    }\n    var slotDatas = [];\n    var prepareSlots = function (rowIndex, renderDate, resData, classList) {\n      var data = {\n        date: new Date(+renderDate),\n        groupIndex: resData.groupIndex,\n        workDays: resData.workDays,\n        type: 'monthCells',\n        className: classList || [cls.WORK_CELLS_CLASS]\n      };\n      if (!slotDatas[parseInt(rowIndex.toString(), 10)]) {\n        slotDatas[parseInt(rowIndex.toString(), 10)] = [];\n      }\n      slotDatas[parseInt(rowIndex.toString(), 10)].push(data);\n    };\n    var includeResource = this.parent.currentView !== 'MonthAgenda' && this.parent.activeViewOptions.group.resources.length > 0;\n    if (includeResource && !this.parent.uiStateValues.isGroupAdaptive && !this.parent.activeViewOptions.group.byDate) {\n      for (var _i = 0, _a = this.colLevels[this.colLevels.length - 2]; _i < _a.length; _i++) {\n        var res = _a[_i];\n        var dates = res.renderDates.map(function (date) {\n          return new Date(+date);\n        });\n        var count = this.parent.activeViewOptions.showWeekend ? util.WEEK_LENGTH : res.workDays.length;\n        for (var i = 0; i < res.renderDates.length / count; i++) {\n          var colDates = dates.splice(0, count);\n          for (var _b = 0, colDates_1 = colDates; _b < colDates_1.length; _b++) {\n            var colDate = colDates_1[_b];\n            prepareSlots(i, colDate, res);\n          }\n        }\n      }\n    } else {\n      var dates = this.renderDates.map(function (date) {\n        return new Date(+date);\n      });\n      var count = this.parent.activeViewOptions.showWeekend ? util.WEEK_LENGTH : this.parent.activeViewOptions.workDays.length;\n      var level = this.colLevels.slice(0, 1)[0];\n      var startIndex = this.renderDates.map(Number).indexOf(+level[0].date);\n      for (var i = 0; i < this.renderDates.length / count; i++) {\n        var colDates = dates.splice(0, count);\n        var k = startIndex;\n        var _loop_1 = function (j) {\n          var colDate = colDates[parseInt(k.toString(), 10)];\n          k++;\n          if (includeResource) {\n            var lastRow = this_1.colLevels[this_1.colLevels.length - 1];\n            var rowCount = lastRow.length / count;\n            var resourcesTd = lastRow.slice(0, rowCount);\n            if (this_1.parent.activeViewOptions.group.hideNonWorkingDays) {\n              resourcesTd = lastRow.filter(function (x) {\n                return x.date.getDay() === colDate.getDay();\n              });\n              if (resourcesTd.length === 0) {\n                j = j - 1;\n                return out_j_1 = j, \"continue\";\n              }\n            }\n            for (var resIndex = 0; resIndex < resourcesTd.length; resIndex++) {\n              var clsList = void 0;\n              if (resIndex !== 0) {\n                clsList = [cls.WORK_CELLS_CLASS, cls.DISABLE_DATE];\n              }\n              prepareSlots(i, colDate, resourcesTd[parseInt(resIndex.toString(), 10)], clsList);\n            }\n          } else {\n            prepareSlots(i, colDate, this_1.colLevels[this_1.colLevels.length - 1][0]);\n          }\n          out_j_1 = j;\n        };\n        var this_1 = this,\n          out_j_1;\n        for (var j = startIndex; j < this.colLevels[0].length + startIndex && j < colDates.length; j++) {\n          _loop_1(j);\n          j = out_j_1;\n        }\n      }\n    }\n    return slotDatas;\n  };\n  Month.prototype.updateClassList = function (data) {\n    if (!this.isCustomMonth() && this.isOtherMonth(data.date)) {\n      data.className.push(cls.OTHERMONTH_CLASS);\n    }\n    if (!this.parent.isMinMaxDate(data.date)) {\n      data.className.push(cls.DISABLE_DATES);\n    }\n    this.updateSelectedCellClass(data);\n  };\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  Month.prototype.updateSelectedCellClass = function (data) {\n    return;\n  };\n  Month.prototype.isOtherMonth = function (date) {\n    return date.getTime() < this.monthDates.start.getTime() || date.getTime() > this.monthDates.end.getTime();\n  };\n  Month.prototype.renderContentArea = function () {\n    var tbl = this.createTableLayout(cls.CONTENT_TABLE_CLASS);\n    this.setAriaAttributes(tbl);\n    this.addAutoHeightClass(tbl);\n    if (this.parent.currentView === 'TimelineMonth') {\n      this.createColGroup(tbl, this.colLevels[this.colLevels.length - 1]);\n    }\n    var monthDate = new Date(this.parent.selectedDate.getTime());\n    this.monthDates = {\n      start: this.parent.calendarUtil.firstDateOfMonth(monthDate),\n      end: this.parent.calendarUtil.lastDateOfMonth(util.addMonths(monthDate, this.parent.activeViewOptions.interval - 1))\n    };\n    var tBody = tbl.querySelector('tbody');\n    append(this.getContentRows(), tBody);\n    this.wireCellEvents(tBody);\n    return tbl;\n  };\n  Month.prototype.getContentRows = function () {\n    var trows = [];\n    var tr = createElement('tr');\n    var td = createElement('td');\n    var slotDatas = this.getContentSlots();\n    var isTimeline = this.parent.currentView === 'TimelineMonth';\n    var existingGroupIndices = isTimeline ? this.getGroupIndices() : [];\n    for (var row = 0; row < slotDatas.length; row++) {\n      if (existingGroupIndices.length > 0 && existingGroupIndices.indexOf(slotDatas[parseInt(row.toString(), 10)][0].groupIndex) > -1) {\n        continue;\n      }\n      var ntr = tr.cloneNode();\n      for (var col = 0; col < slotDatas[parseInt(row.toString(), 10)].length; col++) {\n        var ntd = this.createContentTd(slotDatas[parseInt(row.toString(), 10)][parseInt(col.toString(), 10)], td);\n        ntr.appendChild(ntd);\n      }\n      trows.push(ntr);\n    }\n    return trows;\n  };\n  Month.prototype.createContentTd = function (data, td) {\n    var ntd = td.cloneNode();\n    if (data.colSpan) {\n      ntd.setAttribute('colspan', data.colSpan.toString());\n    }\n    this.updateClassList(data);\n    var type = data.type;\n    if (data.className.indexOf(cls.RESOURCE_PARENT_CLASS) !== -1) {\n      data.className.push(cls.RESOURCE_GROUP_CELLS_CLASS);\n      type = 'resourceGroupCells';\n    }\n    if (this.parent.workHours.highlight && this.isWorkDay(data.date, data.workDays)) {\n      data.className.push(cls.WORKDAY_CLASS);\n    }\n    if (this.isCurrentDate(data.date)) {\n      data.className.push(cls.CURRENTDATE_CLASS);\n    }\n    addClass([ntd], data.className);\n    ntd.setAttribute('data-date', data.date.getTime().toString());\n    if (!isNullOrUndefined(data.groupIndex) || this.parent.uiStateValues.isGroupAdaptive) {\n      var groupIndex = this.parent.uiStateValues.isGroupAdaptive ? this.parent.uiStateValues.groupIndex : data.groupIndex;\n      ntd.setAttribute('data-group-index', '' + groupIndex);\n    }\n    this.renderDateHeaderElement(data, ntd);\n    if (this.parent.activeViewOptions.cellTemplate) {\n      var args_1 = {\n        date: data.date,\n        type: type,\n        groupIndex: data.groupIndex\n      };\n      var scheduleId = this.parent.element.id + '_';\n      var viewName = this.parent.activeViewOptions.cellTemplateName;\n      var templateId = scheduleId + viewName + 'cellTemplate';\n      var cellTemplate = [].slice.call(this.parent.getCellTemplate()(args_1, this.parent, 'cellTemplate', templateId, false, undefined, undefined, this.parent.root));\n      append(cellTemplate, ntd);\n    }\n    var args = {\n      elementType: type,\n      element: ntd,\n      date: data.date,\n      groupIndex: data.groupIndex\n    };\n    this.parent.trigger(event.renderCell, args);\n    return ntd;\n  };\n  Month.prototype.renderDateHeaderElement = function (data, ntd) {\n    if (this.parent.currentView === 'TimelineMonth') {\n      return;\n    }\n    var dateHeader = createElement('div', {\n      className: cls.DATE_HEADER_CLASS\n    });\n    if (this.parent.activeViewOptions.cellHeaderTemplate) {\n      var args = {\n        date: data.date,\n        type: data.type,\n        groupIndex: data.groupIndex\n      };\n      var scheduleId = this.parent.element.id + '_';\n      var viewName = this.parent.activeViewOptions.cellHeaderTemplateName;\n      var templateId = scheduleId + viewName + 'cellHeaderTemplate';\n      var cellHeaderTemplate = [].slice.call(this.parent.getCellHeaderTemplate()(args, this.parent, 'cellHeaderTemplate', templateId, false, undefined, undefined, this.parent.root));\n      append(cellHeaderTemplate, dateHeader);\n    } else {\n      var innerText = this.parent.calendarUtil.isMonthStart(data.date) && !this.isCurrentDate(data.date) && !this.parent.isAdaptive ? this.parent.globalize.formatDate(data.date, {\n        format: 'MMM d',\n        calendar: this.parent.getCalendarMode()\n      }) : this.parent.globalize.formatDate(data.date, {\n        skeleton: 'd',\n        calendar: this.parent.getCalendarMode()\n      });\n      dateHeader.innerHTML = util.capitalizeFirstWord(innerText, 'single');\n    }\n    ntd.appendChild(dateHeader);\n    if (this.getModuleName() === 'month') {\n      addClass([dateHeader], cls.NAVIGATE_CLASS);\n      var skeleton = 'full';\n      var announcementText = this.parent.globalize.formatDate(data.date, {\n        skeleton: skeleton,\n        calendar: this.parent.getCalendarMode()\n      });\n      ntd.setAttribute('aria-label', announcementText);\n    }\n  };\n  Month.prototype.getMonthStart = function (currentDate) {\n    var useDisplayDate = this.parent.currentView === 'Month' && !isNullOrUndefined(this.parent.activeViewOptions.displayDate) && !this.parent.uiStateValues.isSwipeScroll && (this.parent.uiStateValues.isCustomMonth || this.isCustomRange());\n    var date = useDisplayDate ? this.parent.activeViewOptions.displayDate : !(this.parent.uiStateValues.isCustomMonth || !this.parent.uiStateValues.isSwipeScroll && this.isCustomRange()) && this.isCustomMonth() ? currentDate : this.parent.calendarUtil.firstDateOfMonth(currentDate);\n    var monthStart = util.getWeekFirstDate(date, this.parent.activeViewOptions.firstDayOfWeek);\n    return new Date(monthStart.getFullYear(), monthStart.getMonth(), monthStart.getDate());\n  };\n  Month.prototype.getMonthEnd = function (currentDate) {\n    if (this.isCustomMonth()) {\n      var start = this.getMonthStart(currentDate);\n      var numberOfDays = util.WEEK_LENGTH * (this.parent.activeViewOptions.numberOfWeeks > 0 ? this.parent.activeViewOptions.numberOfWeeks : util.DEFAULT_WEEKS);\n      return util.addDays(start, numberOfDays - 1);\n    } else {\n      var endDate = util.addMonths(currentDate, this.parent.activeViewOptions.interval - 1);\n      var lastWeekOfMonth = util.getWeekFirstDate(this.parent.calendarUtil.lastDateOfMonth(endDate), this.parent.activeViewOptions.firstDayOfWeek);\n      return util.addDays(lastWeekOfMonth, util.WEEK_LENGTH - 1);\n    }\n  };\n  Month.prototype.isCustomRange = function () {\n    var dates = this.parent.getCurrentViewDates();\n    if (dates && dates.length > 0) {\n      var selectedTime = util.resetTime(this.parent.selectedDate).getTime();\n      var weekFirstDate = util.getWeekFirstDate(dates[dates.length - 1], this.parent.activeViewOptions.firstDayOfWeek);\n      return !(selectedTime >= util.getWeekFirstDate(dates[0], this.parent.activeViewOptions.firstDayOfWeek).getTime() && selectedTime <= util.addDays(weekFirstDate, 6).getTime());\n    }\n    return false;\n  };\n  Month.prototype.getRenderDates = function (workDays, selectedDate) {\n    if (selectedDate === void 0) {\n      selectedDate = this.parent.selectedDate;\n    }\n    var renderDates = [];\n    var currentDate = util.resetTime(selectedDate);\n    var start = this.getMonthStart(currentDate);\n    var monthEnd = this.getMonthEnd(currentDate);\n    do {\n      if (this.parent.activeViewOptions.showWeekend) {\n        renderDates.push(start);\n      } else {\n        if (this.isWorkDay(start, workDays)) {\n          renderDates.push(start);\n        }\n      }\n      start = util.addDays(start, 1);\n      if (start.getHours() > 0) {\n        start = util.resetTime(start);\n      }\n    } while (start.getTime() <= monthEnd.getTime());\n    if (!workDays) {\n      this.renderDates = renderDates;\n    }\n    if (this.parent.headerModule) {\n      this.parent.headerModule.previousNextIconHandler();\n    }\n    return renderDates;\n  };\n  Month.prototype.getNextPreviousDate = function (type) {\n    if (this.isCustomMonth()) {\n      var dates = this.parent.getCurrentViewDates();\n      var date = util.getWeekFirstDate(type === 'Next' ? dates[dates.length - 1] : dates[0], this.parent.activeViewOptions.firstDayOfWeek);\n      return util.addDays(date, type === 'Next' ? util.WEEK_LENGTH : -(this.parent.activeViewOptions.numberOfWeeks > 0 ? this.parent.activeViewOptions.numberOfWeeks : util.DEFAULT_WEEKS) * util.WEEK_LENGTH);\n    } else {\n      return util.addMonths(this.parent.selectedDate, (type === 'Next' ? 1 : -1) * this.parent.activeViewOptions.interval);\n    }\n  };\n  Month.prototype.getStartDate = function () {\n    return this.getMonthStart(this.parent.selectedDate);\n  };\n  Month.prototype.getEndDate = function () {\n    return this.getMonthEnd(this.parent.selectedDate);\n  };\n  Month.prototype.getEndDateFromStartDate = function (start) {\n    return util.addDays(new Date(start.getTime()), 1);\n  };\n  Month.prototype.getDateRangeText = function (startDate, dateCollection) {\n    if (startDate === void 0) {\n      startDate = this.parent.selectedDate;\n    }\n    if (dateCollection === void 0) {\n      dateCollection = null;\n    }\n    if (this.parent.isAdaptive || isNullOrUndefined(this.parent.activeViewOptions.dateFormat)) {\n      var maxNumberOfDaysPerWeek = 7;\n      startDate = !isNullOrUndefined(dateCollection) && dateCollection.length > maxNumberOfDaysPerWeek - 1 ? dateCollection[maxNumberOfDaysPerWeek - 1] : startDate;\n      var endDate = void 0;\n      var updateCustomRange = false;\n      if (this.isCustomMonth()) {\n        var dates = !isNullOrUndefined(dateCollection) && dateCollection.length > 0 ? dateCollection : this.parent.getCurrentViewDates();\n        updateCustomRange = dates[0].getMonth() !== dates[dates.length - 1].getMonth() || dates[0].getFullYear() !== dates[dates.length - 1].getFullYear();\n        if (updateCustomRange) {\n          startDate = dates[0];\n          endDate = dates[dates.length - 1];\n        }\n      }\n      var isUpdateDateRange = this.parent.currentView !== 'Month' || !this.isCustomMonth();\n      if (this.parent.activeViewOptions.interval > 1 && isUpdateDateRange || updateCustomRange) {\n        endDate = endDate ? endDate : util.addMonths(util.lastDateOfMonth(startDate), this.parent.activeViewOptions.interval - 1);\n        if (startDate.getFullYear() === endDate.getFullYear()) {\n          var monthNames = this.parent.globalize.formatDate(startDate, {\n            format: 'MMMM',\n            calendar: this.parent.getCalendarMode()\n          }) + ' - ' + this.parent.globalize.formatDate(endDate, {\n            format: 'MMMM ',\n            calendar: this.parent.getCalendarMode()\n          }) + this.parent.globalize.formatDate(endDate, {\n            skeleton: 'y',\n            calendar: this.parent.getCalendarMode()\n          });\n          return util.capitalizeFirstWord(monthNames, 'single');\n        }\n        var text = this.parent.globalize.formatDate(startDate, {\n          format: 'MMMM',\n          calendar: this.parent.getCalendarMode()\n        }) + ' ' + startDate.getFullYear() + ' - ' + this.parent.globalize.formatDate(endDate, {\n          format: 'MMMM ',\n          calendar: this.parent.getCalendarMode()\n        }) + this.parent.globalize.formatDate(endDate, {\n          skeleton: 'y',\n          calendar: this.parent.getCalendarMode()\n        });\n        return util.capitalizeFirstWord(text, 'single');\n      }\n      var format = this.parent.activeViewOptions.dateFormat ? this.parent.activeViewOptions.dateFormat : 'MMMM y';\n      return util.capitalizeFirstWord(this.parent.globalize.formatDate(startDate, {\n        format: format,\n        calendar: this.parent.getCalendarMode()\n      }), 'single');\n    }\n    return this.formatDateRange(!isNullOrUndefined(dateCollection) && dateCollection.length > 0 ? dateCollection[0] : this.parent.selectedDate);\n  };\n  Month.prototype.getLabelText = function (view) {\n    var viewStr = view.charAt(0).toLowerCase() + view.substring(1);\n    return this.formatViewLabel(viewStr, this.getStartDate(), this.getEndDate());\n  };\n  Month.prototype.createWeekNumberElement = function (text) {\n    var tr = createElement('tr');\n    var td = createElement('td', {\n      className: cls.WEEK_NUMBER_CLASS,\n      attrs: {\n        'title': text ? this.parent.localeObj.getConstant('week') + ' ' + text : ''\n      },\n      innerHTML: text || ''\n    });\n    tr.appendChild(td);\n    var args = {\n      elementType: 'weekNumberCell',\n      element: td\n    };\n    this.parent.trigger(event.renderCell, args);\n    return tr;\n  };\n  Month.prototype.unWireEvents = function () {\n    var contentScrollableEle = this.element.querySelector('.' + cls.CONTENT_WRAP_CLASS);\n    if (contentScrollableEle) {\n      EventHandler.remove(contentScrollableEle, 'scroll', this.onContentScroll);\n    }\n  };\n  Month.prototype.isCustomMonth = function () {\n    return this.parent.currentView === 'Month' && (!isNullOrUndefined(this.parent.activeViewOptions.displayDate) || this.parent.activeViewOptions.numberOfWeeks > 0);\n  };\n  Month.prototype.getModuleName = function () {\n    return 'month';\n  };\n  Month.prototype.destroy = function () {\n    if (!this.parent || this.parent && this.parent.isDestroyed) {\n      return;\n    }\n    if (this.element) {\n      if (this.monthEvent) {\n        this.monthEvent.destroy();\n        this.monthEvent = null;\n      }\n      this.unWireEvents();\n      if (this.parent.resourceBase) {\n        this.parent.resourceBase.destroy();\n      }\n      if (this.parent.scheduleTouchModule) {\n        this.parent.scheduleTouchModule.resetValues();\n      }\n      _super.prototype.destroy.call(this);\n    }\n  };\n  return Month;\n}(ViewBase);\nexport { Month };","map":{"version":3,"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","EventHandler","formatUnit","isNullOrUndefined","createElement","addClass","append","prepend","remove","extend","ViewBase","MonthEvent","util","event","cls","Month","_super","parent","_this","call","dayNameFormat","viewClass","isInverseTableSelect","monthEvent","monthDates","addEventListener","on","scrollUiUpdate","onScrollUIUpdate","dataReady","onDataReady","cellClick","onCellClick","removeEventListener","off","args","renderAppointments","notify","eventsLoaded","onContentScroll","e","removeNewEventElement","virtualScroll","scrollTopPanel","target","scrollLeftPanel","uiStateValues","top","scrollTop","left","scrollLeft","setPersistence","leftPanel","getLeftPanelElement","element","querySelector","WEEK_NUMBER_WRAPPER_CLASS","headerHeight","getHeaderBarHeight","header","getDatesHeaderElement","content","getContentAreaElement","height","offsetHeight","setContentHeight","scrollBarWidth","getScrollBarWidth","firstElementChild","style","cssProperties","rtlBorder","rtlPadding","offsetWidth","clientWidth","border","padding","setColWidth","scrollPosition","isPreventScrollUpdate","currentView","top_1","isInitial","scrollToSelectedDate","retainScrollPosition","selectedDate","Date","setHours","headerCell","HEADER_CELLS_CLASS","getTime","toString","enableRtl","offsetLeft","getContentTable","leftPanelElement","activeViewOptions","interval","CONTENT_TABLE_CLASS","getScrollXIndent","generateColumnLevels","colLevels","level","getDateSlots","renderDates","workDays","group","resources","length","resourceBase","generateResourceLevels","isGroupAdaptive","lastResourceLevel","resourceLevel","groupIndex","levels_1","byDate","hideNonWorkingDays","index","findIndex","x","date","getDay","slice","push","count","showWeekend","WEEK_LENGTH","dateSlots","isCurrentMonth","col","classList","currentDateIndex","map","indexOf","currentTimezoneDate","CURRENT_DAY_CLASS","parseInt","type","className","colSpan","getDayNameFormat","isAdaptive","renderLayout","setPanel","TABLE_WRAP_CLASS","clsList","allowVirtualScrolling","VIRTUAL_SCROLL_CLASS","rowAutoHeight","eventSettings","ignoreWhitespace","IGNORE_WHITESPACE","renderPanel","appendChild","createTableLayout","OUTER_TABLE_CLASS","setAttribute","renderHeader","renderContent","activeView","getPanel","RESOURCE_TOOLBAR_CONTAINER","renderResourceMobileLayout","contentReady","isCustomMonth","refreshHeader","dateHeader","DATE_HEADER_WRAP_CLASS","contentWrapper","CONTENT_WRAP_CLASS","wireCellEvents","add","workCellAction","cellMouseDown","cellDblClick","tr","renderLeftIndent","dateTd","renderDatesHeader","showWeekNumber","renderedResources","renderWeekNumberContent","workTd","levels","virtualScrollModule","resetColLevels","wrap","contentArea","renderContentArea","monthAgendaWrapper","TABLE_CONTAINER_CLASS","renderVirtualTrack","renderAppointmentContainer","dateCol","td","contentWrapTable","noOfDays","i","length_1","dates","splice","weekNumber","getWeekNumberContent","createWeekNumberElement","container","DATE_HEADER_CONTAINER_CLASS","table","thead","createColGroup","trEle","ntr","cloneNode","j","createHeaderCell","tdEle","addAttributes","ele","innerHTML","capitalizeFirstWord","getDayNames","setResourceHeaderContent","DATE_HEADER_CLASS","dateHeaderTemplate","cellArgs","elementId","id","viewName","dateHeaderTemplateName","templateId","dateTemplate","getDateHeaderTemplate","undefined","root","NAVIGATE_CLASS","skeleton","title","globalize","formatDate","calendar","getCalendarMode","innerText","calendarUtil","isMonthStart","isCurrentDate","format","elementType","trigger","renderCell","getContentSlots","slotDatas","prepareSlots","rowIndex","renderDate","resData","data","WORK_CELLS_CLASS","includeResource","_i","_a","res","colDates","_b","colDates_1","colDate","startIndex","Number","k","_loop_1","lastRow","this_1","rowCount","resourcesTd","filter","out_j_1","resIndex","DISABLE_DATE","updateClassList","isOtherMonth","OTHERMONTH_CLASS","isMinMaxDate","DISABLE_DATES","updateSelectedCellClass","start","end","tbl","setAriaAttributes","addAutoHeightClass","monthDate","firstDateOfMonth","lastDateOfMonth","addMonths","tBody","getContentRows","trows","isTimeline","existingGroupIndices","getGroupIndices","row","ntd","createContentTd","RESOURCE_PARENT_CLASS","RESOURCE_GROUP_CELLS_CLASS","workHours","highlight","isWorkDay","WORKDAY_CLASS","CURRENTDATE_CLASS","renderDateHeaderElement","cellTemplate","args_1","scheduleId","cellTemplateName","getCellTemplate","cellHeaderTemplate","cellHeaderTemplateName","getCellHeaderTemplate","getModuleName","announcementText","getMonthStart","currentDate","useDisplayDate","displayDate","isSwipeScroll","isCustomRange","monthStart","getWeekFirstDate","firstDayOfWeek","getFullYear","getMonth","getDate","getMonthEnd","numberOfDays","numberOfWeeks","DEFAULT_WEEKS","addDays","endDate","lastWeekOfMonth","getCurrentViewDates","selectedTime","resetTime","weekFirstDate","getRenderDates","monthEnd","getHours","headerModule","previousNextIconHandler","getNextPreviousDate","getStartDate","getEndDate","getEndDateFromStartDate","getDateRangeText","startDate","dateCollection","dateFormat","maxNumberOfDaysPerWeek","updateCustomRange","isUpdateDateRange","monthNames","text","formatDateRange","getLabelText","view","viewStr","charAt","toLowerCase","substring","formatViewLabel","WEEK_NUMBER_CLASS","attrs","localeObj","getConstant","unWireEvents","contentScrollableEle","destroy","isDestroyed","scheduleTouchModule","resetValues"],"sources":["C:/Users/Dell/OneDrive/Desktop/Programs/soc-portal/node_modules/@syncfusion/ej2-schedule/src/schedule/renderer/month.js"],"sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { EventHandler, formatUnit, isNullOrUndefined, createElement, addClass, append, prepend, remove, extend } from '@syncfusion/ej2-base';\nimport { ViewBase } from './view-base';\nimport { MonthEvent } from '../event-renderer/month';\nimport * as util from '../base/util';\nimport * as event from '../base/constant';\nimport * as cls from '../base/css-constant';\n/**\n * month view\n */\nvar Month = /** @class */ (function (_super) {\n    __extends(Month, _super);\n    function Month(parent) {\n        var _this = _super.call(this, parent) || this;\n        _this.dayNameFormat = 'wide';\n        _this.viewClass = 'e-month-view';\n        _this.isInverseTableSelect = false;\n        _this.monthEvent = null;\n        _this.monthDates = {};\n        return _this;\n    }\n    Month.prototype.addEventListener = function () {\n        this.parent.on(event.scrollUiUpdate, this.onScrollUIUpdate, this);\n        this.parent.on(event.dataReady, this.onDataReady, this);\n        this.parent.on(event.cellClick, this.onCellClick, this);\n    };\n    Month.prototype.removeEventListener = function () {\n        if (this.parent) {\n            this.parent.off(event.scrollUiUpdate, this.onScrollUIUpdate);\n            this.parent.off(event.dataReady, this.onDataReady);\n            this.parent.off(event.cellClick, this.onCellClick);\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    Month.prototype.onDataReady = function (args) {\n        this.monthEvent = new MonthEvent(this.parent);\n        this.monthEvent.renderAppointments();\n        this.parent.notify(event.eventsLoaded, {});\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    Month.prototype.onCellClick = function (event) { };\n    Month.prototype.onContentScroll = function (e) {\n        this.parent.removeNewEventElement();\n        this.parent.notify(event.virtualScroll, e);\n        this.scrollTopPanel(e.target);\n        this.scrollLeftPanel(e.target);\n        this.parent.uiStateValues.top = e.target.scrollTop;\n        this.parent.uiStateValues.left = e.target.scrollLeft;\n        this.setPersistence();\n    };\n    Month.prototype.scrollLeftPanel = function (target) {\n        var leftPanel = this.getLeftPanelElement();\n        if (leftPanel) {\n            leftPanel.scrollTop = target.scrollTop;\n        }\n    };\n    Month.prototype.getLeftPanelElement = function () {\n        return this.element.querySelector('.' + cls.WEEK_NUMBER_WRAPPER_CLASS);\n    };\n    Month.prototype.onScrollUIUpdate = function (args) {\n        var headerHeight = this.getHeaderBarHeight();\n        var header = this.getDatesHeaderElement();\n        var content = this.getContentAreaElement();\n        var height = this.parent.element.offsetHeight - headerHeight - header.offsetHeight;\n        var leftPanel = this.getLeftPanelElement();\n        if (this.parent.height !== 'auto') {\n            this.setContentHeight(content, leftPanel, height);\n        }\n        var scrollBarWidth = util.getScrollBarWidth();\n        header.firstElementChild.style[args.cssProperties.rtlBorder] = '';\n        header.style[args.cssProperties.rtlPadding] = '';\n        if (content.offsetWidth - content.clientWidth > 0) {\n            header.firstElementChild.style[args.cssProperties.border] = scrollBarWidth > 0 ? '1px' : '0px';\n            header.style[args.cssProperties.padding] = scrollBarWidth > 0 ? scrollBarWidth - 1 + 'px' : '0px';\n        }\n        else {\n            header.firstElementChild.style[args.cssProperties.border] = '';\n            header.style[args.cssProperties.padding] = '';\n        }\n        this.setColWidth(content);\n        if (args.scrollPosition || !args.isPreventScrollUpdate && this.parent.currentView === 'TimelineMonth') {\n            var top_1 = this.parent.currentView === 'TimelineMonth' ? this.parent.uiStateValues.top : args.scrollPosition.top;\n            if (leftPanel) {\n                leftPanel.scrollTop = top_1;\n            }\n            content.scrollTop = top_1;\n            if (this.parent.uiStateValues.isInitial) {\n                this.scrollToSelectedDate();\n                this.parent.uiStateValues.isInitial = false;\n            }\n            else {\n                content.scrollLeft = this.parent.currentView === 'TimelineMonth' ? this.parent.uiStateValues.left :\n                    args.scrollPosition.left;\n            }\n        }\n        this.retainScrollPosition();\n    };\n    Month.prototype.scrollToSelectedDate = function () {\n        var selectedDate = new Date(this.parent.selectedDate);\n        selectedDate.setHours(0, 0, 0, 0);\n        var headerCell = this.element.querySelector('.' + cls.HEADER_CELLS_CLASS + '[data-date=\"'\n            + selectedDate.getTime().toString() + '\"]');\n        var content = this.getContentAreaElement();\n        if (!isNullOrUndefined(headerCell)) {\n            content.scrollLeft = !this.parent.enableRtl ?\n                headerCell.offsetLeft : -(this.parent.getContentTable().offsetWidth - headerCell.offsetLeft - headerCell.offsetWidth);\n        }\n        else {\n            content.scrollLeft = 0;\n        }\n        if (content.scrollLeft === 0 && this.parent.uiStateValues.isInitial) {\n            this.parent.uiStateValues.left = 0;\n        }\n    };\n    Month.prototype.setContentHeight = function (content, leftPanelElement, height) {\n        content.style.height = 'auto';\n        if (this.parent.currentView === 'Month') {\n            content.style.height = formatUnit(height);\n        }\n        if (leftPanelElement) {\n            if (this.parent.currentView === 'MonthAgenda') {\n                height = (this.parent.activeViewOptions.interval > 1) ?\n                    this.getContentAreaElement().firstElementChild.offsetHeight :\n                    this.element.querySelector('.' + cls.CONTENT_TABLE_CLASS).offsetHeight;\n            }\n            leftPanelElement.style.height = 'auto';\n            leftPanelElement.style.height = formatUnit(height - this.getScrollXIndent(content));\n        }\n    };\n    Month.prototype.generateColumnLevels = function () {\n        var colLevels = [];\n        var level = this.getDateSlots(this.renderDates, this.parent.activeViewOptions.workDays);\n        if (this.parent.activeViewOptions.group.resources.length > 0) {\n            colLevels = this.parent.resourceBase.generateResourceLevels(level);\n            if (this.parent.currentView === 'MonthAgenda') {\n                colLevels = [level];\n            }\n            if (this.parent.uiStateValues.isGroupAdaptive && this.parent.resourceBase.lastResourceLevel.length > 0) {\n                var resourceLevel = this.parent.resourceBase.lastResourceLevel[this.parent.uiStateValues.groupIndex];\n                var levels_1 = this.getDateSlots(resourceLevel.renderDates, resourceLevel.workDays);\n                if (this.parent.activeViewOptions.group.byDate && this.parent.activeViewOptions.group.hideNonWorkingDays) {\n                    var index = levels_1.findIndex(function (x, index) {\n                        return index !== 0 && x.date.getDay() === levels_1[0].date.getDay();\n                    });\n                    levels_1 = index > -1 ? levels_1.slice(0, index) : levels_1;\n                }\n                colLevels = [levels_1];\n            }\n        }\n        else {\n            colLevels.push(level);\n        }\n        this.colLevels = colLevels;\n        return colLevels;\n    };\n    Month.prototype.getDateSlots = function (renderDates, workDays) {\n        var count = this.parent.activeViewOptions.showWeekend ? util.WEEK_LENGTH : workDays.length;\n        var dateSlots = [];\n        var isCurrentMonth = this.isCurrentMonth(this.parent.selectedDate);\n        for (var col = 0; col < count; col++) {\n            var classList = [cls.HEADER_CELLS_CLASS];\n            var currentDateIndex = renderDates.slice(0, count).map(function (date) { return date.getDay(); });\n            if (isCurrentMonth && currentDateIndex.indexOf(this.parent.currentTimezoneDate.getDay()) === col) {\n                classList.push(cls.CURRENT_DAY_CLASS);\n            }\n            dateSlots.push({ date: renderDates[parseInt(col.toString(), 10)], type: 'monthDay', className: classList, colSpan: 1, workDays: workDays });\n        }\n        return dateSlots;\n    };\n    Month.prototype.getDayNameFormat = function () {\n        if (this.parent.isAdaptive || this.parent.activeViewOptions.group.resources.length > 0) {\n            return 'abbreviated';\n        }\n        return 'wide';\n    };\n    Month.prototype.renderLayout = function (type) {\n        this.dayNameFormat = this.getDayNameFormat();\n        this.setPanel(createElement('div', { className: cls.TABLE_WRAP_CLASS }));\n        var clsList = [this.viewClass];\n        clsList.push(type);\n        if (this.parent.activeViewOptions.group.byDate) {\n            clsList.push('e-by-date');\n            if (this.parent.currentView !== 'Month') {\n                this.parent.activeViewOptions.group.hideNonWorkingDays = false;\n            }\n        }\n        if (this.parent.activeViewOptions.allowVirtualScrolling && !this.parent.uiStateValues.isGroupAdaptive) {\n            clsList.push(cls.VIRTUAL_SCROLL_CLASS);\n        }\n        if (this.parent.rowAutoHeight && this.parent.eventSettings.ignoreWhitespace) {\n            clsList.push(cls.IGNORE_WHITESPACE);\n        }\n        addClass([this.element], clsList);\n        this.renderPanel(type);\n        this.element.appendChild(this.createTableLayout(cls.OUTER_TABLE_CLASS));\n        this.element.querySelector('table').setAttribute('role', 'presentation');\n        this.colLevels = this.generateColumnLevels();\n        this.renderHeader();\n        this.renderContent();\n        var target = (this.parent.currentView === 'MonthAgenda') ? this.parent.activeView.getPanel() : this.parent.element;\n        if (this.parent.uiStateValues.isGroupAdaptive && !target.querySelector('.' + cls.RESOURCE_TOOLBAR_CONTAINER)) {\n            this.renderResourceMobileLayout();\n        }\n        this.parent.notify(event.contentReady, {});\n        if (this.parent.uiStateValues.isCustomMonth) {\n            this.parent.uiStateValues.isCustomMonth = false;\n        }\n    };\n    Month.prototype.refreshHeader = function () {\n        remove(this.element.querySelector('tbody tr'));\n        this.renderHeader();\n        this.parent.notify(event.contentReady, {});\n        var dateHeader = this.element.querySelector('.' + cls.DATE_HEADER_WRAP_CLASS);\n        var contentWrapper = this.element.querySelector('.' + cls.CONTENT_WRAP_CLASS);\n        if (dateHeader) {\n            dateHeader.scrollLeft = this.parent.uiStateValues.left;\n        }\n        if (contentWrapper) {\n            contentWrapper.scrollLeft = this.parent.uiStateValues.left;\n        }\n    };\n    Month.prototype.wireCellEvents = function (element) {\n        EventHandler.add(element, 'mousedown', this.parent.workCellAction.cellMouseDown, this.parent.workCellAction);\n        EventHandler.add(element, 'click', this.parent.workCellAction.cellClick, this.parent.workCellAction);\n        if (!this.parent.isAdaptive) {\n            EventHandler.add(element, 'dblclick', this.parent.workCellAction.cellDblClick, this.parent.workCellAction);\n        }\n    };\n    Month.prototype.renderHeader = function () {\n        var tr = createElement('tr');\n        this.renderLeftIndent(tr);\n        var dateTd = createElement('td');\n        dateTd.appendChild(this.renderDatesHeader());\n        tr.appendChild(dateTd);\n        prepend([tr], this.element.querySelector('tbody'));\n    };\n    Month.prototype.renderLeftIndent = function (tr) {\n        if (this.parent.activeViewOptions.showWeekNumber) {\n            tr.appendChild(createElement('td', { className: 'e-left-indent' }));\n        }\n    };\n    Month.prototype.renderContent = function () {\n        if (this.parent.activeViewOptions.group.resources.length > 0) {\n            this.parent.resourceBase.renderedResources = extend([], this.parent.resourceBase.lastResourceLevel, null, true);\n        }\n        var tr = createElement('tr');\n        if (this.parent.activeViewOptions.showWeekNumber) {\n            tr.appendChild(this.renderWeekNumberContent());\n        }\n        var workTd = createElement('td');\n        var levels = this.colLevels.slice(0);\n        if (this.parent.virtualScrollModule) {\n            this.resetColLevels();\n        }\n        var wrap = createElement('div', { className: cls.CONTENT_WRAP_CLASS });\n        var contentArea = this.renderContentArea();\n        if (this.parent.currentView === 'Month') {\n            wrap.appendChild(contentArea);\n        }\n        else {\n            var monthAgendaWrapper = createElement('div', { className: cls.TABLE_CONTAINER_CLASS });\n            monthAgendaWrapper.appendChild(contentArea);\n            wrap.appendChild(monthAgendaWrapper);\n        }\n        EventHandler.add(wrap, 'scroll', this.onContentScroll, this);\n        workTd.appendChild(wrap);\n        tr.appendChild(workTd);\n        if (this.parent.virtualScrollModule) {\n            this.colLevels = levels;\n            this.parent.virtualScrollModule.renderVirtualTrack(wrap);\n        }\n        this.element.querySelector('tbody').appendChild(tr);\n        this.renderAppointmentContainer();\n    };\n    Month.prototype.renderWeekNumberContent = function () {\n        var dateCol = this.renderDates.map(function (date) { return new Date(+date); });\n        var td = createElement('td');\n        var contentWrapper = createElement('div', { className: cls.WEEK_NUMBER_WRAPPER_CLASS });\n        td.appendChild(contentWrapper);\n        var contentWrapTable = this.createTableLayout();\n        contentWrapper.appendChild(contentWrapTable);\n        var noOfDays = this.parent.activeViewOptions.showWeekend ? util.WEEK_LENGTH :\n            this.parent.activeViewOptions.workDays.length;\n        for (var i = 0, length_1 = (this.renderDates.length / noOfDays); i < length_1; i++) {\n            var dates = dateCol.splice(0, noOfDays);\n            var weekNumber = this.parent.getWeekNumberContent(dates);\n            contentWrapTable.querySelector('tbody').appendChild(this.createWeekNumberElement(weekNumber));\n        }\n        return td;\n    };\n    Month.prototype.renderAppointmentContainer = function () {\n        //Here needs to render mobile view appointment details on selected date\n    };\n    Month.prototype.renderDatesHeader = function () {\n        var container = createElement('div', { className: cls.DATE_HEADER_CONTAINER_CLASS });\n        var wrap = createElement('div', { className: cls.DATE_HEADER_WRAP_CLASS });\n        container.appendChild(wrap);\n        var table = this.createTableLayout();\n        if (this.parent.currentView === 'Month') {\n            var thead = createElement('thead');\n            thead.appendChild(createElement('tr'));\n            prepend([thead], table);\n        }\n        this.createColGroup(table, this.colLevels[this.colLevels.length - 1]);\n        var trEle = createElement('tr');\n        for (var i = 0; i < this.colLevels.length; i++) {\n            var level = this.colLevels[parseInt(i.toString(), 10)];\n            var ntr = trEle.cloneNode();\n            for (var j = 0; j < level.length; j++) {\n                var td = level[parseInt(j.toString(), 10)];\n                ntr.appendChild(this.createHeaderCell(td));\n            }\n            table.querySelector('tbody').appendChild(ntr);\n        }\n        wrap.appendChild(table);\n        return container;\n    };\n    Month.prototype.createHeaderCell = function (td) {\n        var tdEle = createElement('td');\n        this.addAttributes(td, tdEle);\n        if (td.type === 'monthDay') {\n            var ele = createElement('span', { innerHTML: util.capitalizeFirstWord(this.parent.getDayNames(this.dayNameFormat)[td.date.getDay()], 'single') });\n            tdEle.appendChild(ele);\n        }\n        if (td.type === 'resourceHeader') {\n            this.setResourceHeaderContent(tdEle, td);\n        }\n        if (td.type === 'dateHeader') {\n            addClass([tdEle], cls.DATE_HEADER_CLASS);\n            tdEle.setAttribute('data-date', td.date.getTime().toString());\n            if (this.parent.activeViewOptions.dateHeaderTemplate) {\n                var cellArgs = { date: td.date, type: td.type };\n                var elementId = this.parent.element.id + '_';\n                var viewName = this.parent.activeViewOptions.dateHeaderTemplateName;\n                var templateId = elementId + viewName + 'dateHeaderTemplate';\n                var dateTemplate = [].slice.call(this.parent.getDateHeaderTemplate()(cellArgs, this.parent, 'dateHeaderTemplate', templateId, false, undefined, undefined, this.parent.root));\n                if (dateTemplate && dateTemplate.length) {\n                    append(dateTemplate, tdEle);\n                }\n            }\n            else {\n                var ele = createElement('span', { className: cls.NAVIGATE_CLASS });\n                var skeleton = 'full';\n                var title = this.parent.globalize.formatDate(td.date, { skeleton: skeleton, calendar: this.parent.getCalendarMode() });\n                ele.setAttribute('title', util.capitalizeFirstWord(title, 'multiple'));\n                var innerText = (this.parent.calendarUtil.isMonthStart(td.date) && !this.isCurrentDate(td.date) && !this.parent.isAdaptive) ?\n                    this.parent.globalize.formatDate(td.date, { format: 'MMM d', calendar: this.parent.getCalendarMode() }) :\n                    this.parent.globalize.formatDate(td.date, { skeleton: 'd', calendar: this.parent.getCalendarMode() });\n                ele.innerHTML = util.capitalizeFirstWord(innerText, 'single');\n                tdEle.appendChild(ele);\n            }\n            this.wireCellEvents(tdEle);\n        }\n        var args = { elementType: td.type, element: tdEle, date: td.date, groupIndex: td.groupIndex };\n        this.parent.trigger(event.renderCell, args);\n        return tdEle;\n    };\n    Month.prototype.getContentSlots = function () {\n        if (!(this.colLevels[this.colLevels.length - 1] && this.colLevels[this.colLevels.length - 1][0])) {\n            return [];\n        }\n        var slotDatas = [];\n        var prepareSlots = function (rowIndex, renderDate, resData, classList) {\n            var data = {\n                date: new Date(+renderDate), groupIndex: resData.groupIndex, workDays: resData.workDays,\n                type: 'monthCells', className: classList || [cls.WORK_CELLS_CLASS]\n            };\n            if (!slotDatas[parseInt(rowIndex.toString(), 10)]) {\n                slotDatas[parseInt(rowIndex.toString(), 10)] = [];\n            }\n            slotDatas[parseInt(rowIndex.toString(), 10)].push(data);\n        };\n        var includeResource = this.parent.currentView !== 'MonthAgenda' &&\n            this.parent.activeViewOptions.group.resources.length > 0;\n        if (includeResource && !this.parent.uiStateValues.isGroupAdaptive && !this.parent.activeViewOptions.group.byDate) {\n            for (var _i = 0, _a = this.colLevels[this.colLevels.length - 2]; _i < _a.length; _i++) {\n                var res = _a[_i];\n                var dates = res.renderDates.map(function (date) { return new Date(+date); });\n                var count = this.parent.activeViewOptions.showWeekend ? util.WEEK_LENGTH : res.workDays.length;\n                for (var i = 0; i < (res.renderDates.length / count); i++) {\n                    var colDates = dates.splice(0, count);\n                    for (var _b = 0, colDates_1 = colDates; _b < colDates_1.length; _b++) {\n                        var colDate = colDates_1[_b];\n                        prepareSlots(i, colDate, res);\n                    }\n                }\n            }\n        }\n        else {\n            var dates = this.renderDates.map(function (date) { return new Date(+date); });\n            var count = this.parent.activeViewOptions.showWeekend ? util.WEEK_LENGTH :\n                this.parent.activeViewOptions.workDays.length;\n            var level = this.colLevels.slice(0, 1)[0];\n            var startIndex = this.renderDates.map(Number).indexOf(+level[0].date);\n            for (var i = 0; i < (this.renderDates.length / count); i++) {\n                var colDates = dates.splice(0, count);\n                var k = startIndex;\n                var _loop_1 = function (j) {\n                    var colDate = colDates[parseInt(k.toString(), 10)];\n                    k++;\n                    if (includeResource) {\n                        var lastRow = this_1.colLevels[(this_1.colLevels.length - 1)];\n                        var rowCount = lastRow.length / count;\n                        var resourcesTd = lastRow.slice(0, rowCount);\n                        if (this_1.parent.activeViewOptions.group.hideNonWorkingDays) {\n                            resourcesTd = lastRow.filter(function (x) { return x.date.getDay() === colDate.getDay(); });\n                            if (resourcesTd.length === 0) {\n                                j = j - 1;\n                                return out_j_1 = j, \"continue\";\n                            }\n                        }\n                        for (var resIndex = 0; resIndex < resourcesTd.length; resIndex++) {\n                            var clsList = void 0;\n                            if (resIndex !== 0) {\n                                clsList = [cls.WORK_CELLS_CLASS, cls.DISABLE_DATE];\n                            }\n                            prepareSlots(i, colDate, resourcesTd[parseInt(resIndex.toString(), 10)], clsList);\n                        }\n                    }\n                    else {\n                        prepareSlots(i, colDate, this_1.colLevels[this_1.colLevels.length - 1][0]);\n                    }\n                    out_j_1 = j;\n                };\n                var this_1 = this, out_j_1;\n                for (var j = startIndex; j < (this.colLevels[0].length + startIndex) && j < colDates.length; j++) {\n                    _loop_1(j);\n                    j = out_j_1;\n                }\n            }\n        }\n        return slotDatas;\n    };\n    Month.prototype.updateClassList = function (data) {\n        if (!this.isCustomMonth() && this.isOtherMonth(data.date)) {\n            data.className.push(cls.OTHERMONTH_CLASS);\n        }\n        if (!this.parent.isMinMaxDate(data.date)) {\n            data.className.push(cls.DISABLE_DATES);\n        }\n        this.updateSelectedCellClass(data);\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    Month.prototype.updateSelectedCellClass = function (data) {\n        return;\n    };\n    Month.prototype.isOtherMonth = function (date) {\n        return date.getTime() < this.monthDates.start.getTime() || date.getTime() > this.monthDates.end.getTime();\n    };\n    Month.prototype.renderContentArea = function () {\n        var tbl = this.createTableLayout(cls.CONTENT_TABLE_CLASS);\n        this.setAriaAttributes(tbl);\n        this.addAutoHeightClass(tbl);\n        if (this.parent.currentView === 'TimelineMonth') {\n            this.createColGroup(tbl, this.colLevels[this.colLevels.length - 1]);\n        }\n        var monthDate = new Date(this.parent.selectedDate.getTime());\n        this.monthDates = {\n            start: this.parent.calendarUtil.firstDateOfMonth(monthDate),\n            end: this.parent.calendarUtil.lastDateOfMonth(util.addMonths(monthDate, this.parent.activeViewOptions.interval - 1))\n        };\n        var tBody = tbl.querySelector('tbody');\n        append(this.getContentRows(), tBody);\n        this.wireCellEvents(tBody);\n        return tbl;\n    };\n    Month.prototype.getContentRows = function () {\n        var trows = [];\n        var tr = createElement('tr');\n        var td = createElement('td');\n        var slotDatas = this.getContentSlots();\n        var isTimeline = this.parent.currentView === 'TimelineMonth';\n        var existingGroupIndices = isTimeline ? this.getGroupIndices() : [];\n        for (var row = 0; row < slotDatas.length; row++) {\n            if (existingGroupIndices.length > 0 &&\n                existingGroupIndices.indexOf(slotDatas[parseInt(row.toString(), 10)][0].groupIndex) > -1) {\n                continue;\n            }\n            var ntr = tr.cloneNode();\n            for (var col = 0; col < slotDatas[parseInt(row.toString(), 10)].length; col++) {\n                var ntd = this.createContentTd(slotDatas[parseInt(row.toString(), 10)][parseInt(col.toString(), 10)], td);\n                ntr.appendChild(ntd);\n            }\n            trows.push(ntr);\n        }\n        return trows;\n    };\n    Month.prototype.createContentTd = function (data, td) {\n        var ntd = td.cloneNode();\n        if (data.colSpan) {\n            ntd.setAttribute('colspan', data.colSpan.toString());\n        }\n        this.updateClassList(data);\n        var type = data.type;\n        if (data.className.indexOf(cls.RESOURCE_PARENT_CLASS) !== -1) {\n            data.className.push(cls.RESOURCE_GROUP_CELLS_CLASS);\n            type = 'resourceGroupCells';\n        }\n        if (this.parent.workHours.highlight && this.isWorkDay(data.date, data.workDays)) {\n            data.className.push(cls.WORKDAY_CLASS);\n        }\n        if (this.isCurrentDate(data.date)) {\n            data.className.push(cls.CURRENTDATE_CLASS);\n        }\n        addClass([ntd], data.className);\n        ntd.setAttribute('data-date', data.date.getTime().toString());\n        if (!isNullOrUndefined(data.groupIndex) || this.parent.uiStateValues.isGroupAdaptive) {\n            var groupIndex = this.parent.uiStateValues.isGroupAdaptive ? this.parent.uiStateValues.groupIndex :\n                data.groupIndex;\n            ntd.setAttribute('data-group-index', '' + groupIndex);\n        }\n        this.renderDateHeaderElement(data, ntd);\n        if (this.parent.activeViewOptions.cellTemplate) {\n            var args_1 = { date: data.date, type: type, groupIndex: data.groupIndex };\n            var scheduleId = this.parent.element.id + '_';\n            var viewName = this.parent.activeViewOptions.cellTemplateName;\n            var templateId = scheduleId + viewName + 'cellTemplate';\n            var cellTemplate = [].slice.call(this.parent.getCellTemplate()(args_1, this.parent, 'cellTemplate', templateId, false, undefined, undefined, this.parent.root));\n            append(cellTemplate, ntd);\n        }\n        var args = { elementType: type, element: ntd, date: data.date, groupIndex: data.groupIndex };\n        this.parent.trigger(event.renderCell, args);\n        return ntd;\n    };\n    Month.prototype.renderDateHeaderElement = function (data, ntd) {\n        if (this.parent.currentView === 'TimelineMonth') {\n            return;\n        }\n        var dateHeader = createElement('div', { className: cls.DATE_HEADER_CLASS });\n        if (this.parent.activeViewOptions.cellHeaderTemplate) {\n            var args = { date: data.date, type: data.type, groupIndex: data.groupIndex };\n            var scheduleId = this.parent.element.id + '_';\n            var viewName = this.parent.activeViewOptions.cellHeaderTemplateName;\n            var templateId = scheduleId + viewName + 'cellHeaderTemplate';\n            var cellHeaderTemplate = [].slice.call(this.parent.getCellHeaderTemplate()(args, this.parent, 'cellHeaderTemplate', templateId, false, undefined, undefined, this.parent.root));\n            append(cellHeaderTemplate, dateHeader);\n        }\n        else {\n            var innerText = (this.parent.calendarUtil.isMonthStart(data.date) && !this.isCurrentDate(data.date) && !this.parent.isAdaptive) ?\n                this.parent.globalize.formatDate(data.date, { format: 'MMM d', calendar: this.parent.getCalendarMode() }) :\n                this.parent.globalize.formatDate(data.date, { skeleton: 'd', calendar: this.parent.getCalendarMode() });\n            dateHeader.innerHTML = util.capitalizeFirstWord(innerText, 'single');\n        }\n        ntd.appendChild(dateHeader);\n        if (this.getModuleName() === 'month') {\n            addClass([dateHeader], cls.NAVIGATE_CLASS);\n            var skeleton = 'full';\n            var announcementText = this.parent.globalize.formatDate(data.date, { skeleton: skeleton, calendar: this.parent.getCalendarMode() });\n            ntd.setAttribute('aria-label', announcementText);\n        }\n    };\n    Month.prototype.getMonthStart = function (currentDate) {\n        var useDisplayDate = this.parent.currentView === 'Month' && !isNullOrUndefined(this.parent.activeViewOptions.displayDate) && !(this.parent.uiStateValues.isSwipeScroll) &&\n            (this.parent.uiStateValues.isCustomMonth || this.isCustomRange());\n        var date = useDisplayDate ? this.parent.activeViewOptions.displayDate : !(this.parent.uiStateValues.isCustomMonth ||\n            (!this.parent.uiStateValues.isSwipeScroll && this.isCustomRange())) && this.isCustomMonth() ? currentDate :\n            this.parent.calendarUtil.firstDateOfMonth(currentDate);\n        var monthStart = util.getWeekFirstDate(date, this.parent.activeViewOptions.firstDayOfWeek);\n        return new Date(monthStart.getFullYear(), monthStart.getMonth(), monthStart.getDate());\n    };\n    Month.prototype.getMonthEnd = function (currentDate) {\n        if (this.isCustomMonth()) {\n            var start = this.getMonthStart(currentDate);\n            var numberOfDays = util.WEEK_LENGTH * (this.parent.activeViewOptions.numberOfWeeks > 0 ?\n                this.parent.activeViewOptions.numberOfWeeks : util.DEFAULT_WEEKS);\n            return util.addDays(start, (numberOfDays - 1));\n        }\n        else {\n            var endDate = util.addMonths(currentDate, this.parent.activeViewOptions.interval - 1);\n            var lastWeekOfMonth = util.getWeekFirstDate(this.parent.calendarUtil.lastDateOfMonth(endDate), this.parent.activeViewOptions.firstDayOfWeek);\n            return util.addDays(lastWeekOfMonth, util.WEEK_LENGTH - 1);\n        }\n    };\n    Month.prototype.isCustomRange = function () {\n        var dates = this.parent.getCurrentViewDates();\n        if (dates && dates.length > 0) {\n            var selectedTime = util.resetTime(this.parent.selectedDate).getTime();\n            var weekFirstDate = util.getWeekFirstDate(dates[dates.length - 1], this.parent.activeViewOptions.firstDayOfWeek);\n            return !(selectedTime >= util.getWeekFirstDate(dates[0], this.parent.activeViewOptions.firstDayOfWeek).getTime() &&\n                selectedTime <= util.addDays(weekFirstDate, 6).getTime());\n        }\n        return false;\n    };\n    Month.prototype.getRenderDates = function (workDays, selectedDate) {\n        if (selectedDate === void 0) { selectedDate = this.parent.selectedDate; }\n        var renderDates = [];\n        var currentDate = util.resetTime(selectedDate);\n        var start = this.getMonthStart(currentDate);\n        var monthEnd = this.getMonthEnd(currentDate);\n        do {\n            if (this.parent.activeViewOptions.showWeekend) {\n                renderDates.push(start);\n            }\n            else {\n                if (this.isWorkDay(start, workDays)) {\n                    renderDates.push(start);\n                }\n            }\n            start = util.addDays(start, 1);\n            if (start.getHours() > 0) {\n                start = util.resetTime(start);\n            }\n        } while (start.getTime() <= monthEnd.getTime());\n        if (!workDays) {\n            this.renderDates = renderDates;\n        }\n        if (this.parent.headerModule) {\n            this.parent.headerModule.previousNextIconHandler();\n        }\n        return renderDates;\n    };\n    Month.prototype.getNextPreviousDate = function (type) {\n        if (this.isCustomMonth()) {\n            var dates = this.parent.getCurrentViewDates();\n            var date = util.getWeekFirstDate(type === 'Next' ? dates[dates.length - 1]\n                : dates[0], this.parent.activeViewOptions.firstDayOfWeek);\n            return util.addDays(date, type === 'Next' ? util.WEEK_LENGTH : -(this.parent.activeViewOptions.numberOfWeeks > 0 ?\n                this.parent.activeViewOptions.numberOfWeeks : util.DEFAULT_WEEKS) * util.WEEK_LENGTH);\n        }\n        else {\n            return util.addMonths(this.parent.selectedDate, ((type === 'Next' ? 1 : -1) * this.parent.activeViewOptions.interval));\n        }\n    };\n    Month.prototype.getStartDate = function () {\n        return this.getMonthStart(this.parent.selectedDate);\n    };\n    Month.prototype.getEndDate = function () {\n        return this.getMonthEnd(this.parent.selectedDate);\n    };\n    Month.prototype.getEndDateFromStartDate = function (start) {\n        return util.addDays(new Date(start.getTime()), 1);\n    };\n    Month.prototype.getDateRangeText = function (startDate, dateCollection) {\n        if (startDate === void 0) { startDate = this.parent.selectedDate; }\n        if (dateCollection === void 0) { dateCollection = null; }\n        if (this.parent.isAdaptive || isNullOrUndefined(this.parent.activeViewOptions.dateFormat)) {\n            var maxNumberOfDaysPerWeek = 7;\n            startDate = !isNullOrUndefined(dateCollection) && dateCollection.length > maxNumberOfDaysPerWeek - 1\n                ? dateCollection[maxNumberOfDaysPerWeek - 1] : startDate;\n            var endDate = void 0;\n            var updateCustomRange = false;\n            if (this.isCustomMonth()) {\n                var dates = !isNullOrUndefined(dateCollection) && dateCollection.length > 0 ? dateCollection :\n                    this.parent.getCurrentViewDates();\n                updateCustomRange = dates[0].getMonth() !== dates[dates.length - 1].getMonth() ||\n                    dates[0].getFullYear() !== dates[dates.length - 1].getFullYear();\n                if (updateCustomRange) {\n                    startDate = dates[0];\n                    endDate = dates[dates.length - 1];\n                }\n            }\n            var isUpdateDateRange = (this.parent.currentView !== 'Month' || !this.isCustomMonth());\n            if (this.parent.activeViewOptions.interval > 1 && isUpdateDateRange || updateCustomRange) {\n                endDate = endDate ? endDate : util.addMonths(util.lastDateOfMonth(startDate), this.parent.activeViewOptions.interval - 1);\n                if (startDate.getFullYear() === endDate.getFullYear()) {\n                    var monthNames = (this.parent.globalize.formatDate(startDate, { format: 'MMMM', calendar: this.parent.getCalendarMode() })) + ' - ' +\n                        (this.parent.globalize.formatDate(endDate, { format: 'MMMM ', calendar: this.parent.getCalendarMode() })) +\n                        this.parent.globalize.formatDate(endDate, { skeleton: 'y', calendar: this.parent.getCalendarMode() });\n                    return util.capitalizeFirstWord(monthNames, 'single');\n                }\n                var text = (this.parent.globalize.formatDate(startDate, { format: 'MMMM', calendar: this.parent.getCalendarMode() })) + ' ' +\n                    startDate.getFullYear() + ' - ' +\n                    this.parent.globalize.formatDate(endDate, { format: 'MMMM ', calendar: this.parent.getCalendarMode() }) +\n                    this.parent.globalize.formatDate(endDate, { skeleton: 'y', calendar: this.parent.getCalendarMode() });\n                return util.capitalizeFirstWord(text, 'single');\n            }\n            var format = (this.parent.activeViewOptions.dateFormat) ? this.parent.activeViewOptions.dateFormat : 'MMMM y';\n            return util.capitalizeFirstWord(this.parent.globalize.formatDate(startDate, { format: format, calendar: this.parent.getCalendarMode() }), 'single');\n        }\n        return this.formatDateRange(!isNullOrUndefined(dateCollection) && dateCollection.length > 0 ? dateCollection[0] :\n            this.parent.selectedDate);\n    };\n    Month.prototype.getLabelText = function (view) {\n        var viewStr = view.charAt(0).toLowerCase() + view.substring(1);\n        return this.formatViewLabel(viewStr, this.getStartDate(), this.getEndDate());\n    };\n    Month.prototype.createWeekNumberElement = function (text) {\n        var tr = createElement('tr');\n        var td = createElement('td', {\n            className: cls.WEEK_NUMBER_CLASS,\n            attrs: { 'title': (text ? this.parent.localeObj.getConstant('week') + ' ' + text : '') },\n            innerHTML: (text || '')\n        });\n        tr.appendChild(td);\n        var args = { elementType: 'weekNumberCell', element: td };\n        this.parent.trigger(event.renderCell, args);\n        return tr;\n    };\n    Month.prototype.unWireEvents = function () {\n        var contentScrollableEle = this.element.querySelector('.' + cls.CONTENT_WRAP_CLASS);\n        if (contentScrollableEle) {\n            EventHandler.remove(contentScrollableEle, 'scroll', this.onContentScroll);\n        }\n    };\n    Month.prototype.isCustomMonth = function () {\n        return this.parent.currentView === 'Month' &&\n            (!isNullOrUndefined(this.parent.activeViewOptions.displayDate) || this.parent.activeViewOptions.numberOfWeeks > 0);\n    };\n    Month.prototype.getModuleName = function () {\n        return 'month';\n    };\n    Month.prototype.destroy = function () {\n        if (!this.parent || this.parent && this.parent.isDestroyed) {\n            return;\n        }\n        if (this.element) {\n            if (this.monthEvent) {\n                this.monthEvent.destroy();\n                this.monthEvent = null;\n            }\n            this.unWireEvents();\n            if (this.parent.resourceBase) {\n                this.parent.resourceBase.destroy();\n            }\n            if (this.parent.scheduleTouchModule) {\n                this.parent.scheduleTouchModule.resetValues();\n            }\n            _super.prototype.destroy.call(this);\n        }\n    };\n    return Month;\n}(ViewBase));\nexport { Month };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}