{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\n/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { isNullOrUndefined, createElement, remove, closest, addClass, removeClass, extend, append } from '@syncfusion/ej2-base';\nimport { Toolbar } from '@syncfusion/ej2-navigations';\nimport { Calendar } from '@syncfusion/ej2-calendars';\nimport { Popup } from '@syncfusion/ej2-popups';\nimport * as events from '../base/constant';\nimport * as util from '../base/util';\nimport * as cls from '../base/css-constant';\n/**\n * Header module\n */\nvar HeaderRenderer = /** @class */function () {\n  function HeaderRenderer(parent) {\n    this.parent = parent;\n    this.l10n = this.parent.localeObj;\n    this.renderHeader();\n    this.addEventListener();\n  }\n  HeaderRenderer.prototype.addEventListener = function () {\n    this.parent.on(events.documentClick, this.closeHeaderPopup, this);\n  };\n  HeaderRenderer.prototype.removeEventListener = function () {\n    this.parent.off(events.documentClick, this.closeHeaderPopup);\n  };\n  HeaderRenderer.prototype.closeHeaderPopup = function (e) {\n    var closestEle = closest(e.event.target, '.e-date-range,.e-header-popup,.e-day,.e-selected');\n    var closestPop = closest(e.event.target, '.e-hor-nav,.e-toolbar-pop');\n    var contentWrap = this.parent.element.querySelector('.' + cls.CONTENT_WRAP_CLASS);\n    if (this.parent.isAdaptive) {\n      if (!isNullOrUndefined(closestPop) && (closestPop.classList.contains('e-toolbar-pop') || closestPop.classList.contains('e-hor-nav')) && !(closestPop.classList.contains('e-hor-nav') && this.element.querySelector('.e-toolbar-pop').classList.contains(cls.POPUP_OPEN))) {\n        addClass([contentWrap], cls.SCROLL_HIDDEN);\n      } else {\n        removeClass([contentWrap], cls.SCROLL_HIDDEN);\n        var popupEle = this.element.querySelector('.e-toolbar-pop');\n        if (!isNullOrUndefined(popupEle)) {\n          var popupObj = popupEle.ej2_instances[0];\n          if (popupObj && !(!isNullOrUndefined(closestPop) && closestPop.classList.contains('e-hor-nav') && popupEle.classList.contains(cls.POPUP_OPEN))) {\n            popupObj.hide();\n          }\n        }\n      }\n    }\n    if (!isNullOrUndefined(closestEle)) {\n      return;\n    }\n    this.hideHeaderPopup();\n  };\n  HeaderRenderer.prototype.hideHeaderPopup = function () {\n    if (this.headerPopup) {\n      this.headerPopup.hide();\n    }\n  };\n  HeaderRenderer.prototype.renderHeader = function () {\n    this.element = createElement('div', {\n      className: cls.TOOLBAR_CONTAINER\n    });\n    var toolbarEle = createElement('div', {\n      className: cls.HEADER_TOOLBAR\n    });\n    this.element.appendChild(toolbarEle);\n    this.parent.element.insertBefore(this.element, this.parent.element.firstElementChild);\n    this.renderToolbar();\n  };\n  HeaderRenderer.prototype.renderToolbar = function () {\n    var _this = this;\n    var items = this.parent.toolbarItems && this.parent.toolbarItems.length > 0 ? this.getToolbarItems() : this.getItems();\n    this.parent.trigger(events.actionBegin, {\n      requestType: 'toolbarItemRendering',\n      items: items\n    }, function (args) {\n      _this.toolbarObj = new Toolbar({\n        items: args.items,\n        overflowMode: 'Popup',\n        clicked: _this.toolbarClickHandler.bind(_this),\n        created: _this.toolbarCreateHandler.bind(_this),\n        enableRtl: _this.parent.enableRtl,\n        enableHtmlSanitizer: _this.parent.enableHtmlSanitizer,\n        locale: _this.parent.locale\n      });\n      _this.toolbarObj.isStringTemplate = true;\n      _this.toolbarObj.root = _this.parent.root ? _this.parent.root : _this.parent;\n      _this.toolbarObj.appendTo(_this.parent.element.querySelector('.' + cls.HEADER_TOOLBAR));\n      _this.toolbarObj.element.setAttribute('aria-label', 'Scheduler');\n      var prevNavEle = _this.toolbarObj.element.querySelector('.e-prev');\n      if (prevNavEle) {\n        prevNavEle.firstElementChild.setAttribute('title', _this.l10n.getConstant('previous'));\n      }\n      var nextNavEle = _this.toolbarObj.element.querySelector('.e-next');\n      if (nextNavEle) {\n        nextNavEle.firstElementChild.setAttribute('title', _this.l10n.getConstant('next'));\n      }\n      _this.updateAddIcon();\n      _this.updateActiveView();\n      _this.parent.trigger(events.actionComplete, {\n        requestType: 'toolBarItemRendered',\n        items: _this.toolbarObj.items\n      });\n    });\n  };\n  HeaderRenderer.prototype.updateItems = function () {\n    var _this = this;\n    if (this.toolbarObj) {\n      var items = this.getItems();\n      this.parent.trigger(events.actionBegin, {\n        requestType: 'toolbarItemRendering',\n        items: items\n      }, function (args) {\n        _this.toolbarObj.items = args.items;\n        _this.toolbarObj.dataBind();\n        _this.parent.trigger(events.actionComplete, {\n          requestType: 'toolBarItemRendered',\n          items: _this.toolbarObj.items\n        });\n      });\n    }\n  };\n  HeaderRenderer.prototype.getPopUpRelativeElement = function () {\n    if (this.parent.isAdaptive) {\n      return this.toolbarObj.element;\n    }\n    return this.element.querySelector('.e-date-range');\n  };\n  HeaderRenderer.prototype.setDayOfWeek = function (index) {\n    if (this.headerCalendar) {\n      this.headerCalendar.firstDayOfWeek = index;\n      this.headerCalendar.dataBind();\n    }\n  };\n  HeaderRenderer.prototype.setCalendarDate = function (date) {\n    if (this.headerCalendar) {\n      this.headerCalendar.value = date;\n      this.headerCalendar.dataBind();\n    }\n  };\n  HeaderRenderer.prototype.setCalendarMinMaxDate = function () {\n    if (this.headerCalendar) {\n      this.headerCalendar.min = this.parent.minDate;\n      this.headerCalendar.max = this.parent.maxDate;\n      this.headerCalendar.dataBind();\n    }\n  };\n  HeaderRenderer.prototype.getCalendarView = function () {\n    if (['Month', 'MonthAgenda', 'TimelineMonth'].indexOf(this.parent.currentView) > -1) {\n      return 'Year';\n    } else if (['Year', 'TimelineYear'].indexOf(this.parent.currentView) > -1) {\n      return 'Decade';\n    } else {\n      return 'Month';\n    }\n  };\n  HeaderRenderer.prototype.setCalendarView = function () {\n    if (this.headerCalendar) {\n      var calendarView = this.getCalendarView();\n      this.headerCalendar.depth = calendarView;\n      this.headerCalendar.start = calendarView;\n      this.headerCalendar.refresh();\n    }\n  };\n  HeaderRenderer.prototype.updateActiveView = function () {\n    var selEle = [].slice.call(this.toolbarObj.element.querySelectorAll('.e-views'));\n    removeClass(selEle, ['e-active-view']);\n    if (selEle.length > 0 && selEle[this.parent.viewIndex]) {\n      addClass([selEle[this.parent.viewIndex]], ['e-active-view']);\n    }\n  };\n  HeaderRenderer.prototype.updateDateRange = function (date) {\n    var selEle = this.toolbarObj.element.querySelector('.e-date-range');\n    if (!selEle) {\n      return;\n    }\n    selEle.firstElementChild.setAttribute('aria-haspopup', 'true');\n    var textEle = selEle.querySelector('.e-tbar-btn-text');\n    if (this.parent.activeViewOptions.dateRangeTemplate) {\n      textEle.textContent = '';\n      var args = {\n        startDate: this.parent.activeView.getStartDate(),\n        endDate: this.parent.activeView.getEndDate(),\n        currentView: this.parent.currentView\n      };\n      var viewName = this.parent.activeViewOptions.dateRangeTemplateName;\n      var templateId = this.parent.element.id + '_' + viewName + 'dateRangeTemplate';\n      var dateTemplate = [].slice.call(this.parent.getDateRangeTemplate()(args, this.parent, 'dateRangeTemplate', templateId, false, undefined, undefined, this.parent.root));\n      append(dateTemplate, textEle);\n    } else {\n      var text = this.parent.activeView.getDateRangeText(date);\n      selEle.firstElementChild.setAttribute('aria-label', text);\n      textEle.textContent = text;\n    }\n    this.refresh();\n  };\n  HeaderRenderer.prototype.refresh = function () {\n    if (this.toolbarObj) {\n      this.toolbarObj.refreshOverflow();\n    }\n  };\n  HeaderRenderer.prototype.updateAddIcon = function () {\n    var addEle = this.toolbarObj.element.querySelector('.e-add');\n    if (addEle) {\n      if (!this.parent.eventSettings.allowAdding) {\n        addClass([addEle], cls.HIDDEN_CLASS);\n      } else {\n        removeClass([addEle], cls.HIDDEN_CLASS);\n      }\n    }\n  };\n  HeaderRenderer.prototype.getDateRangeText = function () {\n    var dateString = this.parent.globalize.formatDate(this.parent.selectedDate, {\n      format: 'MMMM y',\n      calendar: this.parent.getCalendarMode()\n    });\n    return util.capitalizeFirstWord(dateString, 'single');\n  };\n  HeaderRenderer.prototype.getItemModel = function (propItem) {\n    var item = {};\n    if (propItem.id) {\n      item.id = propItem.id;\n    }\n    if (propItem.text) {\n      item.text = propItem.text;\n    }\n    if (propItem.tooltipText) {\n      item.tooltipText = propItem.tooltipText;\n    }\n    if (propItem.prefixIcon) {\n      item.prefixIcon = propItem.prefixIcon;\n    }\n    if (propItem.cssClass) {\n      item.cssClass = propItem.cssClass;\n    }\n    if (propItem.showTextOn !== 'Both') {\n      item.showTextOn = propItem.showTextOn;\n    }\n    if (propItem.template) {\n      item.template = propItem.template;\n    }\n    if (propItem.disabled) {\n      item.disabled = propItem.disabled;\n    }\n    if (propItem.width !== 'auto') {\n      item.width = propItem.width;\n    }\n    if (propItem.suffixIcon) {\n      item.suffixIcon = propItem.suffixIcon;\n    }\n    if (propItem.align !== 'Left') {\n      item.align = propItem.align;\n    }\n    if (propItem.overflow !== 'None') {\n      item.overflow = propItem.overflow;\n    }\n    if (propItem.htmlAttributes) {\n      item.htmlAttributes = propItem.htmlAttributes;\n    }\n    if (propItem.type !== 'Button') {\n      item.type = propItem.type;\n    }\n    if (propItem.visible !== true) {\n      item.visible = propItem.visible;\n    }\n    if (propItem.showAlwaysInPopup) {\n      item.showAlwaysInPopup = propItem.showAlwaysInPopup;\n    }\n    if (propItem.tabIndex !== -1) {\n      item.tabIndex = propItem.tabIndex;\n    }\n    return item;\n  };\n  HeaderRenderer.prototype.getToolbarItems = function () {\n    var items = [];\n    var propItem;\n    for (var _i = 0, _a = this.parent.toolbarItems; _i < _a.length; _i++) {\n      var item = _a[_i];\n      propItem = this.getItemModel(item);\n      var tbItem = void 0;\n      if (item.name) {\n        switch (item.name) {\n          case 'Today':\n            tbItem = {\n              showAlwaysInPopup: this.parent.isAdaptive || this.parent.enableAdaptiveUI,\n              prefixIcon: 'e-icon-today',\n              text: this.l10n.getConstant('today'),\n              cssClass: 'e-today',\n              overflow: 'Show'\n            };\n            tbItem.align = propItem.align ? propItem.align : item.align;\n            items.push(__assign({}, tbItem, propItem));\n            break;\n          case 'Previous':\n            tbItem = {\n              prefixIcon: 'e-icon-prev',\n              tooltipText: 'Previous',\n              overflow: 'Show',\n              cssClass: 'e-prev',\n              htmlAttributes: {\n                'role': 'navigation'\n              }\n            };\n            tbItem.align = propItem.align ? propItem.align : item.align;\n            items.push(__assign({}, tbItem, propItem));\n            break;\n          case 'Next':\n            tbItem = {\n              prefixIcon: 'e-icon-next',\n              tooltipText: 'Next',\n              overflow: 'Show',\n              cssClass: 'e-next',\n              htmlAttributes: {\n                'role': 'navigation'\n              }\n            };\n            tbItem.align = propItem.align ? propItem.align : item.align;\n            items.push(__assign({}, tbItem, propItem));\n            break;\n          case 'DateRangeText':\n            tbItem = {\n              text: this.getDateRangeText(),\n              suffixIcon: 'e-icon-down-arrow',\n              cssClass: 'e-date-range',\n              overflow: 'Show',\n              htmlAttributes: {\n                'aria-atomic': 'true',\n                'aria-live': 'assertive',\n                'role': 'navigation'\n              }\n            };\n            tbItem.align = propItem.align ? propItem.align : item.align;\n            items.push(__assign({}, tbItem, propItem));\n            break;\n          case 'NewEvent':\n            tbItem = {\n              showAlwaysInPopup: this.parent.isAdaptive || this.parent.enableAdaptiveUI,\n              prefixIcon: 'e-icon-add',\n              text: this.l10n.getConstant('newEvent'),\n              cssClass: 'e-add',\n              overflow: 'Show'\n            };\n            tbItem.align = propItem.align ? propItem.align : item.align;\n            items.push(__assign({}, tbItem, propItem));\n            break;\n          case 'Views':\n            if (!isNullOrUndefined(this.parent.views) && this.parent.views.length > 1) {\n              for (var _b = 0, _c = this.parent.views; _b < _c.length; _b++) {\n                var view = _c[_b];\n                tbItem = this.getItemObject(view);\n                tbItem.align = propItem.align ? propItem.align : item.align;\n                items.push(__assign({}, tbItem, propItem));\n              }\n            }\n            break;\n          case 'Custom':\n            items.push(item);\n            break;\n        }\n      } else {\n        items.push(item);\n      }\n    }\n    return items;\n  };\n  HeaderRenderer.prototype.getItems = function () {\n    var items = [];\n    items.push({\n      align: 'Left',\n      prefixIcon: 'e-icon-prev',\n      tooltipText: 'Previous',\n      overflow: 'Show',\n      cssClass: 'e-prev'\n    });\n    items.push({\n      align: 'Left',\n      prefixIcon: 'e-icon-next',\n      tooltipText: 'Next',\n      overflow: 'Show',\n      cssClass: 'e-next'\n    });\n    items.push({\n      align: 'Left',\n      text: this.getDateRangeText(),\n      suffixIcon: 'e-icon-down-arrow',\n      cssClass: 'e-date-range',\n      overflow: 'Show',\n      htmlAttributes: {\n        'aria-atomic': 'true',\n        'aria-live': 'assertive'\n      }\n    });\n    if (this.parent.isAdaptive || this.parent.enableAdaptiveUI) {\n      items.push({\n        align: 'Right',\n        showAlwaysInPopup: this.parent.isAdaptive || this.parent.enableAdaptiveUI,\n        prefixIcon: 'e-icon-add',\n        text: this.l10n.getConstant('newEvent'),\n        cssClass: 'e-add',\n        overflow: 'Show'\n      });\n      items.push({\n        align: 'Right',\n        showAlwaysInPopup: this.parent.isAdaptive || this.parent.enableAdaptiveUI,\n        prefixIcon: 'e-icon-today',\n        text: this.l10n.getConstant('today'),\n        cssClass: 'e-today',\n        overflow: 'Show'\n      });\n    } else {\n      items.push({\n        align: 'Right',\n        showAlwaysInPopup: this.parent.isAdaptive || this.parent.enableAdaptiveUI,\n        prefixIcon: 'e-icon-today',\n        text: this.l10n.getConstant('today'),\n        cssClass: 'e-today',\n        overflow: 'Show'\n      });\n      if (!isNullOrUndefined(this.parent.views) && this.parent.views.length > 1) {\n        items.push({\n          align: 'Right',\n          type: 'Separator',\n          cssClass: 'e-schedule-seperator'\n        });\n      }\n    }\n    if (!isNullOrUndefined(this.parent.views) && this.parent.views.length > 1) {\n      for (var _i = 0, _a = this.parent.views; _i < _a.length; _i++) {\n        var item = _a[_i];\n        items.push(this.getItemObject(item));\n      }\n    }\n    return items;\n  };\n  HeaderRenderer.prototype.getItemObject = function (item) {\n    var viewName;\n    var displayName;\n    if (typeof item === 'string') {\n      viewName = item.toLowerCase();\n      displayName = null;\n    } else {\n      viewName = item.option.toLowerCase();\n      displayName = item.displayName;\n    }\n    var view;\n    var orientationClass;\n    var isItemInsidePopup = this.parent.isAdaptive || this.parent.enableAdaptiveUI;\n    switch (viewName) {\n      case 'day':\n        view = {\n          align: 'Right',\n          showAlwaysInPopup: isItemInsidePopup,\n          prefixIcon: 'e-icon-day',\n          text: displayName || this.l10n.getConstant('day'),\n          cssClass: 'e-views e-day'\n        };\n        break;\n      case 'week':\n        view = {\n          align: 'Right',\n          showAlwaysInPopup: isItemInsidePopup,\n          prefixIcon: 'e-icon-week',\n          text: displayName || this.l10n.getConstant('week'),\n          cssClass: 'e-views e-week'\n        };\n        break;\n      case 'workweek':\n        view = {\n          align: 'Right',\n          showAlwaysInPopup: isItemInsidePopup,\n          prefixIcon: 'e-icon-workweek',\n          text: displayName || this.l10n.getConstant('workWeek'),\n          cssClass: 'e-views e-work-week'\n        };\n        break;\n      case 'month':\n        view = {\n          align: 'Right',\n          showAlwaysInPopup: isItemInsidePopup,\n          prefixIcon: 'e-icon-month',\n          text: displayName || this.l10n.getConstant('month'),\n          cssClass: 'e-views e-month'\n        };\n        break;\n      case 'year':\n        view = {\n          align: 'Right',\n          showAlwaysInPopup: isItemInsidePopup,\n          prefixIcon: 'e-icon-year',\n          text: displayName || this.l10n.getConstant('year'),\n          cssClass: 'e-views e-year'\n        };\n        break;\n      case 'agenda':\n        view = {\n          align: 'Right',\n          showAlwaysInPopup: isItemInsidePopup,\n          prefixIcon: 'e-icon-agenda',\n          text: displayName || this.l10n.getConstant('agenda'),\n          cssClass: 'e-views e-agenda'\n        };\n        break;\n      case 'monthagenda':\n        view = {\n          align: 'Right',\n          showAlwaysInPopup: isItemInsidePopup,\n          prefixIcon: 'e-icon-month-agenda',\n          text: displayName || this.l10n.getConstant('monthAgenda'),\n          cssClass: 'e-views e-month-agenda'\n        };\n        break;\n      case 'timelineday':\n        view = {\n          align: 'Right',\n          showAlwaysInPopup: isItemInsidePopup,\n          prefixIcon: 'e-icon-timeline-day',\n          text: displayName || this.l10n.getConstant('timelineDay'),\n          cssClass: 'e-views e-timeline-day'\n        };\n        break;\n      case 'timelineweek':\n        view = {\n          align: 'Right',\n          showAlwaysInPopup: isItemInsidePopup,\n          prefixIcon: 'e-icon-timeline-week',\n          text: displayName || this.l10n.getConstant('timelineWeek'),\n          cssClass: 'e-views e-timeline-week'\n        };\n        break;\n      case 'timelineworkweek':\n        view = {\n          align: 'Right',\n          showAlwaysInPopup: isItemInsidePopup,\n          prefixIcon: 'e-icon-timeline-workweek',\n          text: displayName || this.l10n.getConstant('timelineWorkWeek'),\n          cssClass: 'e-views e-timeline-work-week'\n        };\n        break;\n      case 'timelinemonth':\n        view = {\n          align: 'Right',\n          showAlwaysInPopup: isItemInsidePopup,\n          prefixIcon: 'e-icon-timeline-month',\n          text: displayName || this.l10n.getConstant('timelineMonth'),\n          cssClass: 'e-views e-timeline-month'\n        };\n        break;\n      case 'timelineyear':\n        orientationClass = item.orientation === 'Vertical' ? 'vertical' : 'horizontal';\n        view = {\n          align: 'Right',\n          showAlwaysInPopup: isItemInsidePopup,\n          prefixIcon: 'e-icon-timeline-year-' + orientationClass,\n          text: displayName || this.l10n.getConstant('timelineYear'),\n          cssClass: 'e-views e-timeline-year'\n        };\n        break;\n    }\n    return view;\n  };\n  HeaderRenderer.prototype.renderHeaderPopup = function () {\n    var headerPopupEle = createElement('div', {\n      className: cls.HEADER_POPUP_CLASS\n    });\n    var headerCalendarEle = createElement('div', {\n      className: cls.HEADER_CALENDAR_CLASS\n    });\n    headerPopupEle.appendChild(headerCalendarEle);\n    this.element.appendChild(headerPopupEle);\n    this.headerPopup = new Popup(headerPopupEle, {\n      actionOnScroll: 'hide',\n      targetType: 'relative',\n      relateTo: this.getPopUpRelativeElement(),\n      position: {\n        X: 'left',\n        Y: 'bottom'\n      },\n      collision: {\n        X: 'fit'\n      },\n      viewPortElement: this.element,\n      enableRtl: this.parent.enableRtl\n    });\n    var calendarView = this.getCalendarView();\n    var isDisplayDate = this.parent.currentView === 'Month' && !isNullOrUndefined(this.parent.activeViewOptions.displayDate) && !this.hasSelectedDate();\n    this.headerCalendar = new Calendar({\n      value: isDisplayDate ? this.parent.activeViewOptions.displayDate : this.parent.selectedDate,\n      min: this.parent.minDate,\n      max: this.parent.maxDate,\n      firstDayOfWeek: this.parent.activeViewOptions.firstDayOfWeek,\n      weekNumber: this.parent.activeViewOptions.showWeekNumber,\n      enableRtl: this.parent.enableRtl,\n      locale: this.parent.locale,\n      depth: calendarView,\n      start: calendarView,\n      calendarMode: this.parent.calendarMode,\n      change: this.calendarChange.bind(this)\n    });\n    this.setCalendarTimezone();\n    this.headerCalendar.appendTo(headerCalendarEle);\n    this.headerPopup.hide();\n  };\n  HeaderRenderer.prototype.calendarChange = function (args) {\n    if (args.value.getTime() !== this.parent.selectedDate.getTime()) {\n      var calendarDate = util.resetTime(new Date(args.value));\n      this.parent.changeDate(calendarDate);\n    }\n    this.headerPopup.hide();\n  };\n  HeaderRenderer.prototype.setCalendarTimezone = function () {\n    if (this.headerCalendar) {\n      this.headerCalendar.timezone = this.parent.timezone || this.parent.tzModule.getLocalTimezoneName();\n    }\n  };\n  HeaderRenderer.prototype.calculateViewIndex = function (args) {\n    var target = closest(args.originalEvent.target, '.e-views');\n    var views = [].slice.call(this.element.querySelectorAll('.e-views'));\n    return views.indexOf(target);\n  };\n  HeaderRenderer.prototype.toolbarCreateHandler = function () {\n    if (this.parent && this.parent.portals && this.toolbarObj && this.toolbarObj.portals) {\n      this.parent.portals = this.parent.portals.concat(this.toolbarObj.portals);\n      this.parent['renderReactTemplates']();\n    }\n  };\n  HeaderRenderer.prototype.toolbarClickHandler = function (args) {\n    if (!args.item) {\n      return;\n    }\n    var strClass = args.item.cssClass.replace('e-views ', '');\n    var data;\n    var isSameTime;\n    var currentTime;\n    switch (strClass) {\n      case 'e-date-range':\n        if (!this.headerPopup) {\n          this.renderHeaderPopup();\n        }\n        if (this.headerPopup.element.classList.contains(cls.POPUP_OPEN)) {\n          this.headerPopup.hide();\n        } else {\n          this.headerPopup.show();\n        }\n        break;\n      case 'e-day':\n        this.parent.changeView('Day', args.originalEvent, undefined, this.calculateViewIndex(args));\n        break;\n      case 'e-week':\n        this.parent.changeView('Week', args.originalEvent, undefined, this.calculateViewIndex(args));\n        break;\n      case 'e-work-week':\n        this.parent.changeView('WorkWeek', args.originalEvent, undefined, this.calculateViewIndex(args));\n        break;\n      case 'e-month':\n        this.parent.changeView('Month', args.originalEvent, undefined, this.calculateViewIndex(args));\n        break;\n      case 'e-year':\n        this.parent.changeView('Year', args.originalEvent, undefined, this.calculateViewIndex(args));\n        break;\n      case 'e-agenda':\n        this.parent.changeView('Agenda', args.originalEvent, undefined, this.calculateViewIndex(args));\n        break;\n      case 'e-month-agenda':\n        this.parent.changeView('MonthAgenda', args.originalEvent, undefined, this.calculateViewIndex(args));\n        break;\n      case 'e-timeline-day':\n        this.parent.changeView('TimelineDay', args.originalEvent, undefined, this.calculateViewIndex(args));\n        break;\n      case 'e-timeline-week':\n        this.parent.changeView('TimelineWeek', args.originalEvent, undefined, this.calculateViewIndex(args));\n        break;\n      case 'e-timeline-work-week':\n        this.parent.changeView('TimelineWorkWeek', args.originalEvent, undefined, this.calculateViewIndex(args));\n        break;\n      case 'e-timeline-month':\n        this.parent.changeView('TimelineMonth', args.originalEvent, undefined, this.calculateViewIndex(args));\n        break;\n      case 'e-timeline-year':\n        this.parent.changeView('TimelineYear', args.originalEvent, undefined, this.calculateViewIndex(args));\n        break;\n      case 'e-today':\n        currentTime = util.resetTime(this.parent.getCurrentTime());\n        if (this.parent.currentView === 'Agenda' || this.parent.currentView === 'MonthAgenda' || !this.parent.isSelectedDate(currentTime) || this.parent.currentView === 'Month' && this.parent.activeViewOptions.displayDate && !this.hasSelectedDate() && util.resetTime(this.parent.activeViewOptions.displayDate) !== currentTime || this.parent.currentView === 'Month' && this.parent.activeViewOptions.numberOfWeeks > 0 && !this.hasSelectedDate() && util.resetTime(util.firstDateOfMonth(this.parent.selectedDate)) !== currentTime) {\n          this.parent.changeDate(currentTime, args.originalEvent);\n        }\n        break;\n      case 'e-prev':\n        this.parent.changeDate(this.parent.activeView.getNextPreviousDate('Previous'), args.originalEvent);\n        break;\n      case 'e-next':\n        this.parent.changeDate(this.parent.activeView.getNextPreviousDate('Next'), args.originalEvent);\n        break;\n      case 'e-add':\n        isSameTime = this.parent.activeCellsData.startTime.getTime() === this.parent.activeCellsData.endTime.getTime();\n        if (this.parent.activeCellsData && !isSameTime) {\n          data = this.parent.activeCellsData;\n        } else {\n          var interval = this.parent.activeViewOptions.timeScale.interval;\n          var slotCount = this.parent.activeViewOptions.timeScale.slotCount;\n          var msInterval = interval * util.MS_PER_MINUTE / slotCount;\n          var startTime = new Date(this.parent.selectedDate.getTime());\n          var currentTime_1 = this.parent.getCurrentTime();\n          startTime.setHours(currentTime_1.getHours(), Math.round(startTime.getMinutes() / msInterval) * msInterval, 0);\n          var endTime = new Date(new Date(startTime.getTime()).setMilliseconds(startTime.getMilliseconds() + msInterval));\n          data = {\n            startTime: startTime,\n            endTime: endTime,\n            isAllDay: false\n          };\n        }\n        this.parent.eventWindow.openEditor(extend(data, {\n          cancel: false,\n          event: args.originalEvent\n        }), 'Add');\n        break;\n    }\n    if (isNullOrUndefined(this.toolbarObj)) {\n      return;\n    }\n    var toolbarPopUp = this.toolbarObj.element.querySelector('.e-toolbar-pop');\n    if (toolbarPopUp && args.item.type !== 'Input') {\n      toolbarPopUp.ej2_instances[0].hide({\n        name: 'SlideUp',\n        duration: 100\n      });\n    }\n  };\n  HeaderRenderer.prototype.hasSelectedDate = function () {\n    var selectedTime = util.resetTime(this.parent.selectedDate).getTime();\n    return selectedTime >= this.parent.activeView.getStartDate().getTime() && selectedTime <= this.parent.activeView.getEndDate().getTime();\n  };\n  HeaderRenderer.prototype.getHeaderElement = function () {\n    return this.toolbarObj.element;\n  };\n  HeaderRenderer.prototype.updateHeaderItems = function (classType) {\n    var prevNavEle = this.toolbarObj.element.querySelector('.e-prev');\n    var nextNavEle = this.toolbarObj.element.querySelector('.e-next');\n    var dateRangeEle = this.toolbarObj.element.querySelector('.e-date-range');\n    if (prevNavEle) {\n      if (classType === 'add') {\n        addClass([prevNavEle], cls.HIDDEN_CLASS);\n      } else {\n        removeClass([prevNavEle], cls.HIDDEN_CLASS);\n      }\n    }\n    if (nextNavEle) {\n      if (classType === 'add') {\n        addClass([nextNavEle], cls.HIDDEN_CLASS);\n      } else {\n        removeClass([nextNavEle], cls.HIDDEN_CLASS);\n      }\n    }\n    if (dateRangeEle) {\n      if (classType === 'add') {\n        addClass([dateRangeEle], cls.TEXT_ELLIPSIS);\n      } else {\n        removeClass([dateRangeEle], cls.TEXT_ELLIPSIS);\n      }\n    }\n  };\n  HeaderRenderer.prototype.previousNextIconHandler = function () {\n    var dates = this.parent.currentView === 'Agenda' ? [this.parent.getCurrentViewDates()[0]] : this.parent.getCurrentViewDates();\n    var prevNavEle = this.toolbarObj.element.querySelector('.' + cls.PREVIOUS_DATE_CLASS);\n    var nextNavEle = this.toolbarObj.element.querySelector('.' + cls.NEXT_DATE_CLASS);\n    var firstDate = new Date(dates[0].getTime());\n    var lastDate = new Date(dates[dates.length - 1].getTime());\n    if (this.parent.currentView === 'WorkWeek' || this.parent.currentView === 'TimelineWorkWeek') {\n      firstDate = util.getWeekFirstDate(util.resetTime(this.parent.selectedDate), this.parent.activeViewOptions.firstDayOfWeek);\n      lastDate = util.addDays(firstDate, 7 * this.parent.activeViewOptions.interval);\n    } else if (this.parent.currentView === 'Month') {\n      var isCustomMonth = !isNullOrUndefined(this.parent.activeViewOptions.displayDate) || this.parent.activeViewOptions.numberOfWeeks > 0;\n      firstDate = isCustomMonth ? this.parent.activeView.getStartDate() : util.firstDateOfMonth(this.parent.selectedDate);\n      lastDate = isCustomMonth ? this.parent.activeView.getEndDate() : util.lastDateOfMonth(util.addMonths(firstDate, this.parent.activeViewOptions.interval - 1));\n    }\n    if (!isNullOrUndefined(prevNavEle)) {\n      this.toolbarObj.enableItems(prevNavEle, firstDate > util.resetTime(this.parent.minDate));\n    }\n    if (!isNullOrUndefined(nextNavEle)) {\n      this.toolbarObj.enableItems(nextNavEle, lastDate < util.resetTime(this.parent.maxDate));\n    }\n    this.setCalendarMinMaxDate();\n  };\n  HeaderRenderer.prototype.getModuleName = function () {\n    return 'headerbar';\n  };\n  HeaderRenderer.prototype.destroy = function () {\n    if (this.headerPopup && !this.headerPopup.isDestroyed) {\n      this.headerPopup.destroy();\n      this.headerPopup = null;\n    }\n    if (this.headerCalendar && !this.headerCalendar.isDestroyed) {\n      this.headerCalendar.destroy();\n      this.headerCalendar = null;\n    }\n    if (this.toolbarObj && !this.toolbarObj.isDestroyed) {\n      this.toolbarObj.destroy();\n      this.removeEventListener();\n      remove(this.element);\n      this.toolbarObj = null;\n    }\n    this.element = null;\n    this.parent = null;\n    this.l10n = null;\n  };\n  return HeaderRenderer;\n}();\nexport { HeaderRenderer };","map":{"version":3,"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","isNullOrUndefined","createElement","remove","closest","addClass","removeClass","extend","append","Toolbar","Calendar","Popup","events","util","cls","HeaderRenderer","parent","l10n","localeObj","renderHeader","addEventListener","on","documentClick","closeHeaderPopup","removeEventListener","off","e","closestEle","event","target","closestPop","contentWrap","element","querySelector","CONTENT_WRAP_CLASS","isAdaptive","classList","contains","POPUP_OPEN","SCROLL_HIDDEN","popupEle","popupObj","ej2_instances","hide","hideHeaderPopup","headerPopup","className","TOOLBAR_CONTAINER","toolbarEle","HEADER_TOOLBAR","appendChild","insertBefore","firstElementChild","renderToolbar","_this","items","toolbarItems","getToolbarItems","getItems","trigger","actionBegin","requestType","args","toolbarObj","overflowMode","clicked","toolbarClickHandler","bind","created","toolbarCreateHandler","enableRtl","enableHtmlSanitizer","locale","isStringTemplate","root","appendTo","setAttribute","prevNavEle","getConstant","nextNavEle","updateAddIcon","updateActiveView","actionComplete","updateItems","dataBind","getPopUpRelativeElement","setDayOfWeek","index","headerCalendar","firstDayOfWeek","setCalendarDate","date","value","setCalendarMinMaxDate","min","minDate","max","maxDate","getCalendarView","indexOf","currentView","setCalendarView","calendarView","depth","start","refresh","selEle","slice","querySelectorAll","viewIndex","updateDateRange","textEle","activeViewOptions","dateRangeTemplate","textContent","startDate","activeView","getStartDate","endDate","getEndDate","viewName","dateRangeTemplateName","templateId","id","dateTemplate","getDateRangeTemplate","undefined","text","getDateRangeText","refreshOverflow","addEle","eventSettings","allowAdding","HIDDEN_CLASS","dateString","globalize","formatDate","selectedDate","format","calendar","getCalendarMode","capitalizeFirstWord","getItemModel","propItem","item","tooltipText","prefixIcon","cssClass","showTextOn","template","disabled","width","suffixIcon","align","overflow","htmlAttributes","type","visible","showAlwaysInPopup","tabIndex","_i","_a","tbItem","name","enableAdaptiveUI","push","views","_b","_c","view","getItemObject","displayName","toLowerCase","option","orientationClass","isItemInsidePopup","orientation","renderHeaderPopup","headerPopupEle","HEADER_POPUP_CLASS","headerCalendarEle","HEADER_CALENDAR_CLASS","actionOnScroll","targetType","relateTo","position","X","Y","collision","viewPortElement","isDisplayDate","displayDate","hasSelectedDate","weekNumber","showWeekNumber","calendarMode","change","calendarChange","setCalendarTimezone","getTime","calendarDate","resetTime","Date","changeDate","timezone","tzModule","getLocalTimezoneName","calculateViewIndex","originalEvent","portals","concat","strClass","replace","data","isSameTime","currentTime","show","changeView","getCurrentTime","isSelectedDate","numberOfWeeks","firstDateOfMonth","getNextPreviousDate","activeCellsData","startTime","endTime","interval","timeScale","slotCount","msInterval","MS_PER_MINUTE","currentTime_1","setHours","getHours","Math","round","getMinutes","setMilliseconds","getMilliseconds","isAllDay","eventWindow","openEditor","cancel","toolbarPopUp","duration","selectedTime","getHeaderElement","updateHeaderItems","classType","dateRangeEle","TEXT_ELLIPSIS","previousNextIconHandler","dates","getCurrentViewDates","PREVIOUS_DATE_CLASS","NEXT_DATE_CLASS","firstDate","lastDate","getWeekFirstDate","addDays","isCustomMonth","lastDateOfMonth","addMonths","enableItems","getModuleName","destroy","isDestroyed"],"sources":["C:/Users/Dell/OneDrive/Desktop/Programs/soc-portal/node_modules/@syncfusion/ej2-schedule/src/schedule/renderer/header-renderer.js"],"sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\n/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { isNullOrUndefined, createElement, remove, closest, addClass, removeClass, extend, append } from '@syncfusion/ej2-base';\nimport { Toolbar } from '@syncfusion/ej2-navigations';\nimport { Calendar } from '@syncfusion/ej2-calendars';\nimport { Popup } from '@syncfusion/ej2-popups';\nimport * as events from '../base/constant';\nimport * as util from '../base/util';\nimport * as cls from '../base/css-constant';\n/**\n * Header module\n */\nvar HeaderRenderer = /** @class */ (function () {\n    function HeaderRenderer(parent) {\n        this.parent = parent;\n        this.l10n = this.parent.localeObj;\n        this.renderHeader();\n        this.addEventListener();\n    }\n    HeaderRenderer.prototype.addEventListener = function () {\n        this.parent.on(events.documentClick, this.closeHeaderPopup, this);\n    };\n    HeaderRenderer.prototype.removeEventListener = function () {\n        this.parent.off(events.documentClick, this.closeHeaderPopup);\n    };\n    HeaderRenderer.prototype.closeHeaderPopup = function (e) {\n        var closestEle = closest(e.event.target, '.e-date-range,.e-header-popup,.e-day,.e-selected');\n        var closestPop = closest(e.event.target, '.e-hor-nav,.e-toolbar-pop');\n        var contentWrap = this.parent.element.querySelector('.' + cls.CONTENT_WRAP_CLASS);\n        if (this.parent.isAdaptive) {\n            if (!isNullOrUndefined(closestPop) && (closestPop.classList.contains('e-toolbar-pop') ||\n                closestPop.classList.contains('e-hor-nav')) && !(closestPop.classList.contains('e-hor-nav') &&\n                this.element.querySelector('.e-toolbar-pop').classList.contains(cls.POPUP_OPEN))) {\n                addClass([contentWrap], cls.SCROLL_HIDDEN);\n            }\n            else {\n                removeClass([contentWrap], cls.SCROLL_HIDDEN);\n                var popupEle = this.element.querySelector('.e-toolbar-pop');\n                if (!isNullOrUndefined(popupEle)) {\n                    var popupObj = popupEle.ej2_instances[0];\n                    if (popupObj && !(!isNullOrUndefined(closestPop) && closestPop.classList.contains('e-hor-nav') &&\n                        popupEle.classList.contains(cls.POPUP_OPEN))) {\n                        popupObj.hide();\n                    }\n                }\n            }\n        }\n        if (!isNullOrUndefined(closestEle)) {\n            return;\n        }\n        this.hideHeaderPopup();\n    };\n    HeaderRenderer.prototype.hideHeaderPopup = function () {\n        if (this.headerPopup) {\n            this.headerPopup.hide();\n        }\n    };\n    HeaderRenderer.prototype.renderHeader = function () {\n        this.element = createElement('div', { className: cls.TOOLBAR_CONTAINER });\n        var toolbarEle = createElement('div', { className: cls.HEADER_TOOLBAR });\n        this.element.appendChild(toolbarEle);\n        this.parent.element.insertBefore(this.element, this.parent.element.firstElementChild);\n        this.renderToolbar();\n    };\n    HeaderRenderer.prototype.renderToolbar = function () {\n        var _this = this;\n        var items = (this.parent.toolbarItems && this.parent.toolbarItems.length > 0) ?\n            this.getToolbarItems() : this.getItems();\n        this.parent.trigger(events.actionBegin, { requestType: 'toolbarItemRendering', items: items }, function (args) {\n            _this.toolbarObj = new Toolbar({\n                items: args.items,\n                overflowMode: 'Popup',\n                clicked: _this.toolbarClickHandler.bind(_this),\n                created: _this.toolbarCreateHandler.bind(_this),\n                enableRtl: _this.parent.enableRtl,\n                enableHtmlSanitizer: _this.parent.enableHtmlSanitizer,\n                locale: _this.parent.locale\n            });\n            _this.toolbarObj.isStringTemplate = true;\n            _this.toolbarObj.root = _this.parent.root ? _this.parent.root : _this.parent;\n            _this.toolbarObj.appendTo(_this.parent.element.querySelector('.' + cls.HEADER_TOOLBAR));\n            _this.toolbarObj.element.setAttribute('aria-label', 'Scheduler');\n            var prevNavEle = _this.toolbarObj.element.querySelector('.e-prev');\n            if (prevNavEle) {\n                prevNavEle.firstElementChild.setAttribute('title', _this.l10n.getConstant('previous'));\n            }\n            var nextNavEle = _this.toolbarObj.element.querySelector('.e-next');\n            if (nextNavEle) {\n                nextNavEle.firstElementChild.setAttribute('title', _this.l10n.getConstant('next'));\n            }\n            _this.updateAddIcon();\n            _this.updateActiveView();\n            _this.parent.trigger(events.actionComplete, { requestType: 'toolBarItemRendered', items: _this.toolbarObj.items });\n        });\n    };\n    HeaderRenderer.prototype.updateItems = function () {\n        var _this = this;\n        if (this.toolbarObj) {\n            var items = this.getItems();\n            this.parent.trigger(events.actionBegin, { requestType: 'toolbarItemRendering', items: items }, function (args) {\n                _this.toolbarObj.items = args.items;\n                _this.toolbarObj.dataBind();\n                _this.parent.trigger(events.actionComplete, { requestType: 'toolBarItemRendered', items: _this.toolbarObj.items });\n            });\n        }\n    };\n    HeaderRenderer.prototype.getPopUpRelativeElement = function () {\n        if (this.parent.isAdaptive) {\n            return this.toolbarObj.element;\n        }\n        return this.element.querySelector('.e-date-range');\n    };\n    HeaderRenderer.prototype.setDayOfWeek = function (index) {\n        if (this.headerCalendar) {\n            this.headerCalendar.firstDayOfWeek = index;\n            this.headerCalendar.dataBind();\n        }\n    };\n    HeaderRenderer.prototype.setCalendarDate = function (date) {\n        if (this.headerCalendar) {\n            this.headerCalendar.value = date;\n            this.headerCalendar.dataBind();\n        }\n    };\n    HeaderRenderer.prototype.setCalendarMinMaxDate = function () {\n        if (this.headerCalendar) {\n            this.headerCalendar.min = this.parent.minDate;\n            this.headerCalendar.max = this.parent.maxDate;\n            this.headerCalendar.dataBind();\n        }\n    };\n    HeaderRenderer.prototype.getCalendarView = function () {\n        if (['Month', 'MonthAgenda', 'TimelineMonth'].indexOf(this.parent.currentView) > -1) {\n            return 'Year';\n        }\n        else if (['Year', 'TimelineYear'].indexOf(this.parent.currentView) > -1) {\n            return 'Decade';\n        }\n        else {\n            return 'Month';\n        }\n    };\n    HeaderRenderer.prototype.setCalendarView = function () {\n        if (this.headerCalendar) {\n            var calendarView = this.getCalendarView();\n            this.headerCalendar.depth = calendarView;\n            this.headerCalendar.start = calendarView;\n            this.headerCalendar.refresh();\n        }\n    };\n    HeaderRenderer.prototype.updateActiveView = function () {\n        var selEle = [].slice.call(this.toolbarObj.element.querySelectorAll('.e-views'));\n        removeClass(selEle, ['e-active-view']);\n        if (selEle.length > 0 && selEle[this.parent.viewIndex]) {\n            addClass([selEle[this.parent.viewIndex]], ['e-active-view']);\n        }\n    };\n    HeaderRenderer.prototype.updateDateRange = function (date) {\n        var selEle = this.toolbarObj.element.querySelector('.e-date-range');\n        if (!selEle) {\n            return;\n        }\n        selEle.firstElementChild.setAttribute('aria-haspopup', 'true');\n        var textEle = selEle.querySelector('.e-tbar-btn-text');\n        if (this.parent.activeViewOptions.dateRangeTemplate) {\n            textEle.textContent = '';\n            var args = {\n                startDate: this.parent.activeView.getStartDate(),\n                endDate: this.parent.activeView.getEndDate(), currentView: this.parent.currentView\n            };\n            var viewName = this.parent.activeViewOptions.dateRangeTemplateName;\n            var templateId = this.parent.element.id + '_' + viewName + 'dateRangeTemplate';\n            var dateTemplate = [].slice.call(this.parent.getDateRangeTemplate()(args, this.parent, 'dateRangeTemplate', templateId, false, undefined, undefined, this.parent.root));\n            append(dateTemplate, textEle);\n        }\n        else {\n            var text = this.parent.activeView.getDateRangeText(date);\n            selEle.firstElementChild.setAttribute('aria-label', text);\n            textEle.textContent = text;\n        }\n        this.refresh();\n    };\n    HeaderRenderer.prototype.refresh = function () {\n        if (this.toolbarObj) {\n            this.toolbarObj.refreshOverflow();\n        }\n    };\n    HeaderRenderer.prototype.updateAddIcon = function () {\n        var addEle = this.toolbarObj.element.querySelector('.e-add');\n        if (addEle) {\n            if (!this.parent.eventSettings.allowAdding) {\n                addClass([addEle], cls.HIDDEN_CLASS);\n            }\n            else {\n                removeClass([addEle], cls.HIDDEN_CLASS);\n            }\n        }\n    };\n    HeaderRenderer.prototype.getDateRangeText = function () {\n        var dateString = this.parent.globalize.formatDate(this.parent.selectedDate, {\n            format: 'MMMM y', calendar: this.parent.getCalendarMode()\n        });\n        return util.capitalizeFirstWord(dateString, 'single');\n    };\n    HeaderRenderer.prototype.getItemModel = function (propItem) {\n        var item = {};\n        if (propItem.id) {\n            item.id = propItem.id;\n        }\n        if (propItem.text) {\n            item.text = propItem.text;\n        }\n        if (propItem.tooltipText) {\n            item.tooltipText = propItem.tooltipText;\n        }\n        if (propItem.prefixIcon) {\n            item.prefixIcon = propItem.prefixIcon;\n        }\n        if (propItem.cssClass) {\n            item.cssClass = propItem.cssClass;\n        }\n        if (propItem.showTextOn !== 'Both') {\n            item.showTextOn = propItem.showTextOn;\n        }\n        if (propItem.template) {\n            item.template = propItem.template;\n        }\n        if (propItem.disabled) {\n            item.disabled = propItem.disabled;\n        }\n        if (propItem.width !== 'auto') {\n            item.width = propItem.width;\n        }\n        if (propItem.suffixIcon) {\n            item.suffixIcon = propItem.suffixIcon;\n        }\n        if (propItem.align !== 'Left') {\n            item.align = propItem.align;\n        }\n        if (propItem.overflow !== 'None') {\n            item.overflow = propItem.overflow;\n        }\n        if (propItem.htmlAttributes) {\n            item.htmlAttributes = propItem.htmlAttributes;\n        }\n        if (propItem.type !== 'Button') {\n            item.type = propItem.type;\n        }\n        if (propItem.visible !== true) {\n            item.visible = propItem.visible;\n        }\n        if (propItem.showAlwaysInPopup) {\n            item.showAlwaysInPopup = propItem.showAlwaysInPopup;\n        }\n        if (propItem.tabIndex !== -1) {\n            item.tabIndex = propItem.tabIndex;\n        }\n        return item;\n    };\n    HeaderRenderer.prototype.getToolbarItems = function () {\n        var items = [];\n        var propItem;\n        for (var _i = 0, _a = this.parent.toolbarItems; _i < _a.length; _i++) {\n            var item = _a[_i];\n            propItem = this.getItemModel(item);\n            var tbItem = void 0;\n            if (item.name) {\n                switch (item.name) {\n                    case 'Today':\n                        tbItem = {\n                            showAlwaysInPopup: (this.parent.isAdaptive || this.parent.enableAdaptiveUI), prefixIcon: 'e-icon-today',\n                            text: this.l10n.getConstant('today'), cssClass: 'e-today', overflow: 'Show'\n                        };\n                        tbItem.align = propItem.align ? propItem.align : item.align;\n                        items.push(__assign({}, tbItem, propItem));\n                        break;\n                    case 'Previous':\n                        tbItem = {\n                            prefixIcon: 'e-icon-prev', tooltipText: 'Previous', overflow: 'Show',\n                            cssClass: 'e-prev', htmlAttributes: { 'role': 'navigation' }\n                        };\n                        tbItem.align = propItem.align ? propItem.align : item.align;\n                        items.push(__assign({}, tbItem, propItem));\n                        break;\n                    case 'Next':\n                        tbItem = {\n                            prefixIcon: 'e-icon-next', tooltipText: 'Next', overflow: 'Show',\n                            cssClass: 'e-next', htmlAttributes: { 'role': 'navigation' }\n                        };\n                        tbItem.align = propItem.align ? propItem.align : item.align;\n                        items.push(__assign({}, tbItem, propItem));\n                        break;\n                    case 'DateRangeText':\n                        tbItem = {\n                            text: this.getDateRangeText(), suffixIcon: 'e-icon-down-arrow', cssClass: 'e-date-range',\n                            overflow: 'Show',\n                            htmlAttributes: { 'aria-atomic': 'true', 'aria-live': 'assertive', 'role': 'navigation' }\n                        };\n                        tbItem.align = propItem.align ? propItem.align : item.align;\n                        items.push(__assign({}, tbItem, propItem));\n                        break;\n                    case 'NewEvent':\n                        tbItem = {\n                            showAlwaysInPopup: (this.parent.isAdaptive || this.parent.enableAdaptiveUI), prefixIcon: 'e-icon-add',\n                            text: this.l10n.getConstant('newEvent'), cssClass: 'e-add', overflow: 'Show'\n                        };\n                        tbItem.align = propItem.align ? propItem.align : item.align;\n                        items.push(__assign({}, tbItem, propItem));\n                        break;\n                    case 'Views':\n                        if (!isNullOrUndefined(this.parent.views) && this.parent.views.length > 1) {\n                            for (var _b = 0, _c = this.parent.views; _b < _c.length; _b++) {\n                                var view = _c[_b];\n                                tbItem = this.getItemObject(view);\n                                tbItem.align = propItem.align ? propItem.align : item.align;\n                                items.push(__assign({}, tbItem, propItem));\n                            }\n                        }\n                        break;\n                    case 'Custom':\n                        items.push(item);\n                        break;\n                }\n            }\n            else {\n                items.push(item);\n            }\n        }\n        return items;\n    };\n    HeaderRenderer.prototype.getItems = function () {\n        var items = [];\n        items.push({\n            align: 'Left', prefixIcon: 'e-icon-prev', tooltipText: 'Previous', overflow: 'Show',\n            cssClass: 'e-prev'\n        });\n        items.push({\n            align: 'Left', prefixIcon: 'e-icon-next', tooltipText: 'Next', overflow: 'Show',\n            cssClass: 'e-next'\n        });\n        items.push({\n            align: 'Left', text: this.getDateRangeText(), suffixIcon: 'e-icon-down-arrow', cssClass: 'e-date-range',\n            overflow: 'Show',\n            htmlAttributes: { 'aria-atomic': 'true', 'aria-live': 'assertive' }\n        });\n        if (this.parent.isAdaptive || this.parent.enableAdaptiveUI) {\n            items.push({\n                align: 'Right', showAlwaysInPopup: (this.parent.isAdaptive || this.parent.enableAdaptiveUI), prefixIcon: 'e-icon-add',\n                text: this.l10n.getConstant('newEvent'), cssClass: 'e-add', overflow: 'Show'\n            });\n            items.push({\n                align: 'Right', showAlwaysInPopup: (this.parent.isAdaptive || this.parent.enableAdaptiveUI), prefixIcon: 'e-icon-today',\n                text: this.l10n.getConstant('today'), cssClass: 'e-today', overflow: 'Show'\n            });\n        }\n        else {\n            items.push({\n                align: 'Right', showAlwaysInPopup: (this.parent.isAdaptive || this.parent.enableAdaptiveUI), prefixIcon: 'e-icon-today',\n                text: this.l10n.getConstant('today'), cssClass: 'e-today', overflow: 'Show'\n            });\n            if (!isNullOrUndefined(this.parent.views) && this.parent.views.length > 1) {\n                items.push({ align: 'Right', type: 'Separator', cssClass: 'e-schedule-seperator' });\n            }\n        }\n        if (!isNullOrUndefined(this.parent.views) && this.parent.views.length > 1) {\n            for (var _i = 0, _a = this.parent.views; _i < _a.length; _i++) {\n                var item = _a[_i];\n                items.push(this.getItemObject(item));\n            }\n        }\n        return items;\n    };\n    HeaderRenderer.prototype.getItemObject = function (item) {\n        var viewName;\n        var displayName;\n        if (typeof (item) === 'string') {\n            viewName = item.toLowerCase();\n            displayName = null;\n        }\n        else {\n            viewName = item.option.toLowerCase();\n            displayName = item.displayName;\n        }\n        var view;\n        var orientationClass;\n        var isItemInsidePopup = this.parent.isAdaptive || this.parent.enableAdaptiveUI;\n        switch (viewName) {\n            case 'day':\n                view = {\n                    align: 'Right', showAlwaysInPopup: isItemInsidePopup, prefixIcon: 'e-icon-day',\n                    text: displayName || this.l10n.getConstant('day'), cssClass: 'e-views e-day'\n                };\n                break;\n            case 'week':\n                view = {\n                    align: 'Right', showAlwaysInPopup: isItemInsidePopup, prefixIcon: 'e-icon-week',\n                    text: displayName || this.l10n.getConstant('week'), cssClass: 'e-views e-week'\n                };\n                break;\n            case 'workweek':\n                view = {\n                    align: 'Right', showAlwaysInPopup: isItemInsidePopup, prefixIcon: 'e-icon-workweek',\n                    text: displayName || this.l10n.getConstant('workWeek'), cssClass: 'e-views e-work-week'\n                };\n                break;\n            case 'month':\n                view = {\n                    align: 'Right', showAlwaysInPopup: isItemInsidePopup, prefixIcon: 'e-icon-month',\n                    text: displayName || this.l10n.getConstant('month'), cssClass: 'e-views e-month'\n                };\n                break;\n            case 'year':\n                view = {\n                    align: 'Right', showAlwaysInPopup: isItemInsidePopup, prefixIcon: 'e-icon-year',\n                    text: displayName || this.l10n.getConstant('year'), cssClass: 'e-views e-year'\n                };\n                break;\n            case 'agenda':\n                view = {\n                    align: 'Right', showAlwaysInPopup: isItemInsidePopup, prefixIcon: 'e-icon-agenda',\n                    text: displayName || this.l10n.getConstant('agenda'), cssClass: 'e-views e-agenda'\n                };\n                break;\n            case 'monthagenda':\n                view = {\n                    align: 'Right', showAlwaysInPopup: isItemInsidePopup, prefixIcon: 'e-icon-month-agenda',\n                    text: displayName || this.l10n.getConstant('monthAgenda'), cssClass: 'e-views e-month-agenda'\n                };\n                break;\n            case 'timelineday':\n                view = {\n                    align: 'Right', showAlwaysInPopup: isItemInsidePopup, prefixIcon: 'e-icon-timeline-day',\n                    text: displayName || this.l10n.getConstant('timelineDay'), cssClass: 'e-views e-timeline-day'\n                };\n                break;\n            case 'timelineweek':\n                view = {\n                    align: 'Right', showAlwaysInPopup: isItemInsidePopup, prefixIcon: 'e-icon-timeline-week',\n                    text: displayName || this.l10n.getConstant('timelineWeek'), cssClass: 'e-views e-timeline-week'\n                };\n                break;\n            case 'timelineworkweek':\n                view = {\n                    align: 'Right', showAlwaysInPopup: isItemInsidePopup, prefixIcon: 'e-icon-timeline-workweek',\n                    text: displayName || this.l10n.getConstant('timelineWorkWeek'), cssClass: 'e-views e-timeline-work-week'\n                };\n                break;\n            case 'timelinemonth':\n                view = {\n                    align: 'Right', showAlwaysInPopup: isItemInsidePopup, prefixIcon: 'e-icon-timeline-month',\n                    text: displayName || this.l10n.getConstant('timelineMonth'), cssClass: 'e-views e-timeline-month'\n                };\n                break;\n            case 'timelineyear':\n                orientationClass = (item.orientation === 'Vertical') ? 'vertical' : 'horizontal';\n                view = {\n                    align: 'Right', showAlwaysInPopup: isItemInsidePopup, prefixIcon: 'e-icon-timeline-year-' + orientationClass,\n                    text: displayName || this.l10n.getConstant('timelineYear'), cssClass: 'e-views e-timeline-year'\n                };\n                break;\n        }\n        return view;\n    };\n    HeaderRenderer.prototype.renderHeaderPopup = function () {\n        var headerPopupEle = createElement('div', { className: cls.HEADER_POPUP_CLASS });\n        var headerCalendarEle = createElement('div', { className: cls.HEADER_CALENDAR_CLASS });\n        headerPopupEle.appendChild(headerCalendarEle);\n        this.element.appendChild(headerPopupEle);\n        this.headerPopup = new Popup(headerPopupEle, {\n            actionOnScroll: 'hide',\n            targetType: 'relative',\n            relateTo: this.getPopUpRelativeElement(),\n            position: { X: 'left', Y: 'bottom' },\n            collision: { X: 'fit' },\n            viewPortElement: this.element,\n            enableRtl: this.parent.enableRtl\n        });\n        var calendarView = this.getCalendarView();\n        var isDisplayDate = this.parent.currentView === 'Month' &&\n            !isNullOrUndefined(this.parent.activeViewOptions.displayDate) && !this.hasSelectedDate();\n        this.headerCalendar = new Calendar({\n            value: isDisplayDate ? this.parent.activeViewOptions.displayDate : this.parent.selectedDate,\n            min: this.parent.minDate,\n            max: this.parent.maxDate,\n            firstDayOfWeek: this.parent.activeViewOptions.firstDayOfWeek,\n            weekNumber: this.parent.activeViewOptions.showWeekNumber,\n            enableRtl: this.parent.enableRtl,\n            locale: this.parent.locale,\n            depth: calendarView,\n            start: calendarView,\n            calendarMode: this.parent.calendarMode,\n            change: this.calendarChange.bind(this)\n        });\n        this.setCalendarTimezone();\n        this.headerCalendar.appendTo(headerCalendarEle);\n        this.headerPopup.hide();\n    };\n    HeaderRenderer.prototype.calendarChange = function (args) {\n        if (args.value.getTime() !== this.parent.selectedDate.getTime()) {\n            var calendarDate = util.resetTime(new Date(args.value));\n            this.parent.changeDate(calendarDate);\n        }\n        this.headerPopup.hide();\n    };\n    HeaderRenderer.prototype.setCalendarTimezone = function () {\n        if (this.headerCalendar) {\n            this.headerCalendar.timezone = this.parent.timezone || this.parent.tzModule.getLocalTimezoneName();\n        }\n    };\n    HeaderRenderer.prototype.calculateViewIndex = function (args) {\n        var target = closest(args.originalEvent.target, '.e-views');\n        var views = [].slice.call(this.element.querySelectorAll('.e-views'));\n        return views.indexOf(target);\n    };\n    HeaderRenderer.prototype.toolbarCreateHandler = function () {\n        if (this.parent && this.parent.portals && this.toolbarObj && this.toolbarObj.portals) {\n            this.parent.portals = this.parent.portals.concat(this.toolbarObj.portals);\n            this.parent['renderReactTemplates']();\n        }\n    };\n    HeaderRenderer.prototype.toolbarClickHandler = function (args) {\n        if (!args.item) {\n            return;\n        }\n        var strClass = args.item.cssClass.replace('e-views ', '');\n        var data;\n        var isSameTime;\n        var currentTime;\n        switch (strClass) {\n            case 'e-date-range':\n                if (!this.headerPopup) {\n                    this.renderHeaderPopup();\n                }\n                if (this.headerPopup.element.classList.contains(cls.POPUP_OPEN)) {\n                    this.headerPopup.hide();\n                }\n                else {\n                    this.headerPopup.show();\n                }\n                break;\n            case 'e-day':\n                this.parent.changeView('Day', args.originalEvent, undefined, this.calculateViewIndex(args));\n                break;\n            case 'e-week':\n                this.parent.changeView('Week', args.originalEvent, undefined, this.calculateViewIndex(args));\n                break;\n            case 'e-work-week':\n                this.parent.changeView('WorkWeek', args.originalEvent, undefined, this.calculateViewIndex(args));\n                break;\n            case 'e-month':\n                this.parent.changeView('Month', args.originalEvent, undefined, this.calculateViewIndex(args));\n                break;\n            case 'e-year':\n                this.parent.changeView('Year', args.originalEvent, undefined, this.calculateViewIndex(args));\n                break;\n            case 'e-agenda':\n                this.parent.changeView('Agenda', args.originalEvent, undefined, this.calculateViewIndex(args));\n                break;\n            case 'e-month-agenda':\n                this.parent.changeView('MonthAgenda', args.originalEvent, undefined, this.calculateViewIndex(args));\n                break;\n            case 'e-timeline-day':\n                this.parent.changeView('TimelineDay', args.originalEvent, undefined, this.calculateViewIndex(args));\n                break;\n            case 'e-timeline-week':\n                this.parent.changeView('TimelineWeek', args.originalEvent, undefined, this.calculateViewIndex(args));\n                break;\n            case 'e-timeline-work-week':\n                this.parent.changeView('TimelineWorkWeek', args.originalEvent, undefined, this.calculateViewIndex(args));\n                break;\n            case 'e-timeline-month':\n                this.parent.changeView('TimelineMonth', args.originalEvent, undefined, this.calculateViewIndex(args));\n                break;\n            case 'e-timeline-year':\n                this.parent.changeView('TimelineYear', args.originalEvent, undefined, this.calculateViewIndex(args));\n                break;\n            case 'e-today':\n                currentTime = util.resetTime(this.parent.getCurrentTime());\n                if (this.parent.currentView === 'Agenda' || this.parent.currentView === 'MonthAgenda' || !this.parent.isSelectedDate(currentTime) ||\n                    this.parent.currentView === 'Month' && this.parent.activeViewOptions.displayDate && !this.hasSelectedDate() &&\n                        util.resetTime(this.parent.activeViewOptions.displayDate) !== currentTime || this.parent.currentView === 'Month' &&\n                    this.parent.activeViewOptions.numberOfWeeks > 0 && !this.hasSelectedDate()\n                    && util.resetTime(util.firstDateOfMonth(this.parent.selectedDate)) !== currentTime) {\n                    this.parent.changeDate(currentTime, args.originalEvent);\n                }\n                break;\n            case 'e-prev':\n                this.parent.changeDate(this.parent.activeView.getNextPreviousDate('Previous'), args.originalEvent);\n                break;\n            case 'e-next':\n                this.parent.changeDate(this.parent.activeView.getNextPreviousDate('Next'), args.originalEvent);\n                break;\n            case 'e-add':\n                isSameTime = this.parent.activeCellsData.startTime.getTime() === this.parent.activeCellsData.endTime.getTime();\n                if (this.parent.activeCellsData && !isSameTime) {\n                    data = this.parent.activeCellsData;\n                }\n                else {\n                    var interval = this.parent.activeViewOptions.timeScale.interval;\n                    var slotCount = this.parent.activeViewOptions.timeScale.slotCount;\n                    var msInterval = (interval * util.MS_PER_MINUTE) / slotCount;\n                    var startTime = new Date(this.parent.selectedDate.getTime());\n                    var currentTime_1 = this.parent.getCurrentTime();\n                    startTime.setHours(currentTime_1.getHours(), (Math.round(startTime.getMinutes() / msInterval) * msInterval), 0);\n                    var endTime = new Date(new Date(startTime.getTime()).setMilliseconds(startTime.getMilliseconds() + msInterval));\n                    data = { startTime: startTime, endTime: endTime, isAllDay: false };\n                }\n                this.parent.eventWindow.openEditor(extend(data, { cancel: false, event: args.originalEvent }), 'Add');\n                break;\n        }\n        if (isNullOrUndefined(this.toolbarObj)) {\n            return;\n        }\n        var toolbarPopUp = this.toolbarObj.element.querySelector('.e-toolbar-pop');\n        if (toolbarPopUp && args.item.type !== 'Input') {\n            toolbarPopUp.ej2_instances[0].hide({ name: 'SlideUp', duration: 100 });\n        }\n    };\n    HeaderRenderer.prototype.hasSelectedDate = function () {\n        var selectedTime = util.resetTime(this.parent.selectedDate).getTime();\n        return selectedTime >= this.parent.activeView.getStartDate().getTime() &&\n            selectedTime <= this.parent.activeView.getEndDate().getTime();\n    };\n    HeaderRenderer.prototype.getHeaderElement = function () {\n        return this.toolbarObj.element;\n    };\n    HeaderRenderer.prototype.updateHeaderItems = function (classType) {\n        var prevNavEle = this.toolbarObj.element.querySelector('.e-prev');\n        var nextNavEle = this.toolbarObj.element.querySelector('.e-next');\n        var dateRangeEle = this.toolbarObj.element.querySelector('.e-date-range');\n        if (prevNavEle) {\n            if (classType === 'add') {\n                addClass([prevNavEle], cls.HIDDEN_CLASS);\n            }\n            else {\n                removeClass([prevNavEle], cls.HIDDEN_CLASS);\n            }\n        }\n        if (nextNavEle) {\n            if (classType === 'add') {\n                addClass([nextNavEle], cls.HIDDEN_CLASS);\n            }\n            else {\n                removeClass([nextNavEle], cls.HIDDEN_CLASS);\n            }\n        }\n        if (dateRangeEle) {\n            if (classType === 'add') {\n                addClass([dateRangeEle], cls.TEXT_ELLIPSIS);\n            }\n            else {\n                removeClass([dateRangeEle], cls.TEXT_ELLIPSIS);\n            }\n        }\n    };\n    HeaderRenderer.prototype.previousNextIconHandler = function () {\n        var dates = (this.parent.currentView === 'Agenda' ?\n            [this.parent.getCurrentViewDates()[0]] : this.parent.getCurrentViewDates());\n        var prevNavEle = this.toolbarObj.element.querySelector('.' + cls.PREVIOUS_DATE_CLASS);\n        var nextNavEle = this.toolbarObj.element.querySelector('.' + cls.NEXT_DATE_CLASS);\n        var firstDate = new Date(dates[0].getTime());\n        var lastDate = new Date(dates[dates.length - 1].getTime());\n        if (this.parent.currentView === 'WorkWeek' || this.parent.currentView === 'TimelineWorkWeek') {\n            firstDate = util.getWeekFirstDate(util.resetTime(this.parent.selectedDate), this.parent.activeViewOptions.firstDayOfWeek);\n            lastDate = util.addDays(firstDate, 7 * this.parent.activeViewOptions.interval);\n        }\n        else if (this.parent.currentView === 'Month') {\n            var isCustomMonth = !isNullOrUndefined(this.parent.activeViewOptions.displayDate) ||\n                this.parent.activeViewOptions.numberOfWeeks > 0;\n            firstDate = isCustomMonth ? this.parent.activeView.getStartDate() : util.firstDateOfMonth(this.parent.selectedDate);\n            lastDate = isCustomMonth ? this.parent.activeView.getEndDate() :\n                util.lastDateOfMonth(util.addMonths(firstDate, this.parent.activeViewOptions.interval - 1));\n        }\n        if (!isNullOrUndefined(prevNavEle)) {\n            this.toolbarObj.enableItems(prevNavEle, firstDate > util.resetTime(this.parent.minDate));\n        }\n        if (!isNullOrUndefined(nextNavEle)) {\n            this.toolbarObj.enableItems(nextNavEle, lastDate < util.resetTime(this.parent.maxDate));\n        }\n        this.setCalendarMinMaxDate();\n    };\n    HeaderRenderer.prototype.getModuleName = function () {\n        return 'headerbar';\n    };\n    HeaderRenderer.prototype.destroy = function () {\n        if (this.headerPopup && !this.headerPopup.isDestroyed) {\n            this.headerPopup.destroy();\n            this.headerPopup = null;\n        }\n        if (this.headerCalendar && !this.headerCalendar.isDestroyed) {\n            this.headerCalendar.destroy();\n            this.headerCalendar = null;\n        }\n        if (this.toolbarObj && !this.toolbarObj.isDestroyed) {\n            this.toolbarObj.destroy();\n            this.removeEventListener();\n            remove(this.element);\n            this.toolbarObj = null;\n        }\n        this.element = null;\n        this.parent = null;\n        this.l10n = null;\n    };\n    return HeaderRenderer;\n}());\nexport { HeaderRenderer };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}