{"ast":null,"code":"/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { addClass, createElement, closest, remove, removeClass, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { VerticalEvent } from '../event-renderer/vertical-view';\nimport { MonthEvent } from '../event-renderer/month';\nimport { TimelineEvent } from '../event-renderer/timeline-view';\nimport * as cls from '../base/css-constant';\nimport * as events from '../base/constant';\nimport * as util from '../base/util';\n/**\n * Inline Edit interactions\n */\nvar InlineEdit = /** @class */function () {\n  function InlineEdit(parent) {\n    this.parent = parent;\n    this.parent.on(events.inlineClick, this.inlineEdit, this);\n  }\n  InlineEdit.prototype.inlineEdit = function (args) {\n    if (this.parent.quickPopup) {\n      this.parent.quickPopup.quickPopupHide();\n    }\n    if (args.type === 'Cell') {\n      var moreWrapper = this.parent.element.querySelector('.' + cls.MORE_POPUP_WRAPPER_CLASS);\n      if (moreWrapper && moreWrapper.classList.contains(cls.POPUP_OPEN)) {\n        this.parent.quickPopup.morePopup.hide();\n      }\n      this.removeInlineAppointmentElement();\n      this.cellEdit(args);\n    } else {\n      if (this.parent.element.querySelector('.' + cls.INLINE_SUBJECT_CLASS) !== args.element.querySelector('.' + cls.INLINE_SUBJECT_CLASS)) {\n        this.removeInlineAppointmentElement();\n      }\n      this.eventEdit(args);\n    }\n  };\n  InlineEdit.prototype.cellEdit = function (args) {\n    var saveObj = this.generateEventData();\n    var cellIndex = args.element.cellIndex;\n    var count = this.getEventDaysCount(saveObj);\n    if (count > 1) {\n      count = Math.round(count);\n      count--;\n      cellIndex = cellIndex - count;\n    }\n    var start = util.resetTime(new Date('' + saveObj[this.parent.eventFields.startTime])).getTime();\n    var end = util.resetTime(new Date('' + saveObj[this.parent.eventFields.endTime])).getTime();\n    var resIndex = args.groupIndex || 0;\n    var isVertical = this.parent.currentView === 'Day' || this.parent.currentView === 'Week' || this.parent.currentView === 'WorkWeek';\n    if (this.parent.activeViewOptions.timeScale.enable && isVertical) {\n      var dayIndex = saveObj[this.parent.eventFields.startTime].getDay();\n      this.createVerticalViewInline(saveObj, dayIndex, resIndex, cellIndex);\n    } else if (this.parent.currentView === 'Month' || !this.parent.activeViewOptions.timeScale.enable && isVertical) {\n      this.createMonthViewInline(saveObj, resIndex, start, end);\n    } else {\n      this.createTimelineViewInline(saveObj, start, end, resIndex);\n    }\n    var inlineSubject = this.parent.element.querySelector('.' + cls.INLINE_SUBJECT_CLASS);\n    if (inlineSubject) {\n      inlineSubject.focus();\n    }\n  };\n  InlineEdit.prototype.eventEdit = function (args) {\n    var inlineSubject = args.element.querySelector('.' + cls.INLINE_SUBJECT_CLASS);\n    var subject;\n    if (inlineSubject) {\n      subject = inlineSubject.value;\n    } else {\n      var subEle = args.element.querySelector('.' + cls.SUBJECT_CLASS);\n      if (!isNullOrUndefined(subEle)) {\n        addClass([subEle], cls.DISABLE_CLASS);\n        subject = subEle.innerText;\n      } else {\n        subject = args.data[this.parent.eventFields.subject];\n      }\n      inlineSubject = this.inlineInputEle = createElement('input', {\n        className: cls.INLINE_SUBJECT_CLASS,\n        attrs: {\n          value: subject\n        }\n      });\n      if (closest(args.element, '.' + cls.MORE_POPUP_WRAPPER_CLASS)) {\n        args.element.insertBefore(inlineSubject, subEle);\n      } else if (['Agenda', 'MonthAgenda'].indexOf(this.parent.currentView) > -1) {\n        var subjectWrap = args.element.querySelector('.' + cls.SUBJECT_WRAP);\n        if (isNullOrUndefined(subjectWrap)) {\n          subjectWrap = createElement('div', {\n            className: cls.SUBJECT_WRAP\n          });\n          args.element.prepend(subjectWrap);\n        }\n        subjectWrap.insertBefore(inlineSubject, subjectWrap.firstChild);\n      } else {\n        var elementSelector = ['TimelineDay', 'TimelineWeek', 'TimelineWorkWeek', 'TimelineMonth'].indexOf(this.parent.currentView) > -1 ? '.e-inner-wrap' : '.e-appointment-details';\n        var innerWrapElement = args.element.querySelector(elementSelector);\n        if (isNullOrUndefined(innerWrapElement)) {\n          args.element.querySelector('.e-appointment-details').prepend(inlineSubject);\n        } else {\n          innerWrapElement.prepend(inlineSubject);\n        }\n      }\n      inlineSubject.focus();\n    }\n    inlineSubject.setSelectionRange(subject.length, subject.length);\n  };\n  InlineEdit.prototype.createVerticalViewInline = function (saveObj, dayIndex, resIndex, daysCount) {\n    var _a;\n    var count = this.getEventDaysCount(saveObj);\n    var verticalEvent = new VerticalEvent(this.parent);\n    verticalEvent.initializeValues();\n    var index = verticalEvent.dateRender[parseInt(resIndex.toString(), 10)].map(function (date) {\n      return date.getDay();\n    }).indexOf(dayIndex);\n    if (count >= 1) {\n      verticalEvent.allDayElement = [].slice.call(this.parent.element.querySelectorAll('.' + cls.ALLDAY_CELLS_CLASS));\n      (_a = verticalEvent.slots).push.apply(_a, this.parent.activeView.renderDates.map(function (date) {\n        return +date;\n      }));\n      var allDayElements = [].slice.call(this.parent.element.querySelectorAll('.' + cls.ALLDAY_APPOINTMENT_CLASS));\n      var allDayLevel = 0;\n      if (allDayElements.length > 0) {\n        allDayLevel = Math.floor(this.parent.getElementHeight(this.parent.element.querySelector('.' + cls.ALLDAY_ROW_CLASS)) / allDayElements[0].offsetHeight) - 1;\n      }\n      verticalEvent.allDayLevel = allDayLevel;\n      var appHeight = this.parent.getElementHeightFromClass(this.parent.element.querySelector('.' + cls.ALLDAY_APPOINTMENT_WRAPPER_CLASS), cls.APPOINTMENT_CLASS);\n      var cellTop = verticalEvent.allDayElement.length > 0 ? verticalEvent.allDayElement[0].offsetTop : 0;\n      verticalEvent.renderAllDayEvents(saveObj, index, resIndex, daysCount, this.parent.allowInline, cellTop, appHeight);\n    } else {\n      verticalEvent.renderNormalEvents(saveObj, index, resIndex, daysCount, this.parent.allowInline);\n    }\n  };\n  InlineEdit.prototype.createMonthViewInline = function (saveObj, index, start, end) {\n    var count = this.getEventDaysCount(saveObj);\n    var saveObject = this.parent.eventBase.cloneEventObject(saveObj, start, end, count, false, false);\n    var monthEvent = new MonthEvent(this.parent);\n    monthEvent.dateRender = this.parent.activeView.renderDates;\n    monthEvent.inlineValue = this.parent.allowInline;\n    var renderDates = this.parent.activeView.renderDates;\n    var workDays = this.parent.activeViewOptions.workDays;\n    var monthCellSelector = '.' + cls.WORK_CELLS_CLASS;\n    if (this.parent.activeViewOptions.group.resources.length > 0) {\n      monthCellSelector += '[data-group-index=\"' + index + '\"]';\n      var resourceData = this.parent.resourceBase.lastResourceLevel[parseInt(index.toString(), 10)];\n      renderDates = resourceData.renderDates;\n      workDays = resourceData.workDays;\n    }\n    monthEvent.dateRender = renderDates;\n    monthEvent.workCells = [].slice.call(this.parent.element.querySelectorAll(monthCellSelector));\n    monthEvent.cellWidth = monthEvent.workCells[0].offsetWidth;\n    monthEvent.cellHeight = monthEvent.workCells[0].offsetHeight;\n    monthEvent.eventHeight = this.parent.getElementHeightFromClass(this.parent.monthModule.element || monthEvent.element, cls.APPOINTMENT_CLASS);\n    monthEvent.getSlotDates(workDays);\n    var filteredDates = monthEvent.getRenderedDates(renderDates);\n    var spannedEvents = monthEvent.splitEvent(saveObject, filteredDates || renderDates);\n    for (var _i = 0, spannedEvents_1 = spannedEvents; _i < spannedEvents_1.length; _i++) {\n      var eventData = spannedEvents_1[_i];\n      monthEvent.renderEvents(eventData, index);\n    }\n    var inlineSubject = this.parent.element.querySelector('.' + cls.INLINE_SUBJECT_CLASS);\n    inlineSubject.focus();\n  };\n  InlineEdit.prototype.createTimelineViewInline = function (saveObj, start, end, resIndex) {\n    var count = this.getEventDaysCount(saveObj);\n    var saveObject = this.parent.eventBase.cloneEventObject(saveObj, start, end, count, false, false);\n    var timelineView = new TimelineEvent(this.parent, this.parent.activeViewOptions.timeScale.enable ? 'hour' : 'day');\n    timelineView.dateRender = this.parent.activeView.renderDates;\n    timelineView.eventContainers = [].slice.call(this.parent.element.querySelectorAll('.' + cls.APPOINTMENT_CONTAINER_CLASS));\n    var workCell = this.parent.element.querySelector('.' + cls.WORK_CELLS_CLASS);\n    timelineView.inlineValue = this.parent.allowInline;\n    timelineView.cellWidth = workCell.offsetWidth;\n    timelineView.cellHeight = workCell.offsetHeight;\n    var dayLength = this.parent.element.querySelectorAll('.' + cls.CONTENT_TABLE_CLASS + ' tbody tr').length === 0 ? 0 : this.parent.element.querySelectorAll('.' + cls.CONTENT_TABLE_CLASS + ' tbody tr')[0].children.length;\n    timelineView.slotsPerDay = dayLength / timelineView.dateRender.length;\n    timelineView.eventHeight = this.parent.getElementHeightFromClass(timelineView.element, cls.APPOINTMENT_CLASS);\n    timelineView.renderEvents(saveObject, resIndex);\n  };\n  InlineEdit.prototype.getEventDaysCount = function (saveObj) {\n    var startDate = saveObj[this.parent.eventFields.startTime];\n    var endDate = saveObj[this.parent.eventFields.endTime];\n    var daysCount = Math.abs(endDate.getTime() - startDate.getTime()) / util.MS_PER_DAY;\n    return daysCount;\n  };\n  InlineEdit.prototype.generateEventData = function (target) {\n    var inlineElement = this.parent.element.querySelector('.' + cls.INLINE_SUBJECT_CLASS);\n    var subject = inlineElement ? inlineElement.value : target ? target.innerHTML : '';\n    var saveObj = {};\n    saveObj[this.parent.eventFields.id] = this.parent.eventBase.getEventMaxID();\n    saveObj[this.parent.eventFields.subject] = subject;\n    saveObj[this.parent.eventFields.startTime] = this.parent.activeCellsData.startTime;\n    saveObj[this.parent.eventFields.endTime] = this.parent.activeCellsData.endTime;\n    saveObj[this.parent.eventFields.isAllDay] = this.parent.activeCellsData.isAllDay;\n    this.parent.eventWindow.setDefaultValueToObject(saveObj);\n    if (this.parent.resourceBase) {\n      this.parent.resourceBase.setResourceValues(saveObj, this.parent.activeCellsData.groupIndex);\n    }\n    return saveObj;\n  };\n  InlineEdit.prototype.documentClick = function (target) {\n    if (target && target.value !== '') {\n      this.inlineCrudActions(target);\n    } else {\n      this.removeInlineAppointmentElement();\n    }\n  };\n  InlineEdit.prototype.inlineCrudActions = function (target) {\n    if (closest(target, '.' + cls.INLINE_APPOINTMENT_CLASS)) {\n      var saveObj = this.generateEventData(target);\n      this.parent.addEvent(saveObj);\n    } else {\n      var eventTarget = closest(target, '.' + cls.APPOINTMENT_CLASS);\n      var eventDetails = this.parent.getEventDetails(eventTarget);\n      eventDetails[this.parent.eventFields.subject] = target.value;\n      var currentAction = void 0;\n      if (eventDetails[this.parent.eventFields.id] === eventDetails[this.parent.eventFields.recurrenceID]) {\n        currentAction = 'EditOccurrence';\n        eventDetails[this.parent.eventFields.id] = this.parent.eventBase.getEventMaxID();\n      }\n      this.parent.saveEvent(eventDetails, currentAction);\n    }\n    this.removeInlineAppointmentElement();\n  };\n  InlineEdit.prototype.createInlineAppointmentElement = function (inlineData) {\n    var inlineAppointmentElement = createElement('div', {\n      className: cls.APPOINTMENT_CLASS + ' ' + cls.INLINE_APPOINTMENT_CLASS\n    });\n    var inlineDetails = createElement('div', {\n      className: cls.APPOINTMENT_DETAILS\n    });\n    inlineAppointmentElement.appendChild(inlineDetails);\n    var inline = this.inlineInputEle = createElement('input', {\n      className: cls.INLINE_SUBJECT_CLASS\n    });\n    inlineDetails.appendChild(inline);\n    if (inlineData) {\n      this.parent.eventBase.applyResourceColor(inlineAppointmentElement, inlineData, 'backgroundColor');\n    }\n    return inlineAppointmentElement;\n  };\n  InlineEdit.prototype.removeInlineAppointmentElement = function () {\n    var inlineAppointment = [].slice.call(this.parent.element.querySelectorAll('.' + cls.INLINE_APPOINTMENT_CLASS));\n    if (inlineAppointment.length > 0) {\n      inlineAppointment.forEach(function (node) {\n        var inlineSubject = node.querySelector('.' + cls.INLINE_SUBJECT_CLASS);\n        if (!isNullOrUndefined(inlineSubject)) {\n          inlineSubject.blur();\n        }\n        remove(node);\n      });\n    }\n    var inlineSubject = this.getInlineElement();\n    if (inlineSubject) {\n      var appointmentSubject = closest(inlineSubject, '.' + cls.APPOINTMENT_CLASS);\n      var subject = appointmentSubject.querySelector('.' + cls.SUBJECT_CLASS);\n      if (!isNullOrUndefined(subject)) {\n        removeClass([subject], cls.DISABLE_CLASS);\n      }\n      remove(inlineSubject);\n    }\n    this.inlineInputEle = null;\n  };\n  InlineEdit.prototype.getInlineElement = function () {\n    return this.inlineInputEle;\n  };\n  InlineEdit.prototype.destroy = function () {\n    this.inlineInputEle = null;\n    this.parent.off(events.inlineClick, this.inlineEdit);\n  };\n  return InlineEdit;\n}();\nexport { InlineEdit };","map":{"version":3,"names":["addClass","createElement","closest","remove","removeClass","isNullOrUndefined","VerticalEvent","MonthEvent","TimelineEvent","cls","events","util","InlineEdit","parent","on","inlineClick","inlineEdit","prototype","args","quickPopup","quickPopupHide","type","moreWrapper","element","querySelector","MORE_POPUP_WRAPPER_CLASS","classList","contains","POPUP_OPEN","morePopup","hide","removeInlineAppointmentElement","cellEdit","INLINE_SUBJECT_CLASS","eventEdit","saveObj","generateEventData","cellIndex","count","getEventDaysCount","Math","round","start","resetTime","Date","eventFields","startTime","getTime","end","endTime","resIndex","groupIndex","isVertical","currentView","activeViewOptions","timeScale","enable","dayIndex","getDay","createVerticalViewInline","createMonthViewInline","createTimelineViewInline","inlineSubject","focus","subject","value","subEle","SUBJECT_CLASS","DISABLE_CLASS","innerText","data","inlineInputEle","className","attrs","insertBefore","indexOf","subjectWrap","SUBJECT_WRAP","prepend","firstChild","elementSelector","innerWrapElement","setSelectionRange","length","daysCount","_a","verticalEvent","initializeValues","index","dateRender","parseInt","toString","map","date","allDayElement","slice","call","querySelectorAll","ALLDAY_CELLS_CLASS","slots","push","apply","activeView","renderDates","allDayElements","ALLDAY_APPOINTMENT_CLASS","allDayLevel","floor","getElementHeight","ALLDAY_ROW_CLASS","offsetHeight","appHeight","getElementHeightFromClass","ALLDAY_APPOINTMENT_WRAPPER_CLASS","APPOINTMENT_CLASS","cellTop","offsetTop","renderAllDayEvents","allowInline","renderNormalEvents","saveObject","eventBase","cloneEventObject","monthEvent","inlineValue","workDays","monthCellSelector","WORK_CELLS_CLASS","group","resources","resourceData","resourceBase","lastResourceLevel","workCells","cellWidth","offsetWidth","cellHeight","eventHeight","monthModule","getSlotDates","filteredDates","getRenderedDates","spannedEvents","splitEvent","_i","spannedEvents_1","eventData","renderEvents","timelineView","eventContainers","APPOINTMENT_CONTAINER_CLASS","workCell","dayLength","CONTENT_TABLE_CLASS","children","slotsPerDay","startDate","endDate","abs","MS_PER_DAY","target","inlineElement","innerHTML","id","getEventMaxID","activeCellsData","isAllDay","eventWindow","setDefaultValueToObject","setResourceValues","documentClick","inlineCrudActions","INLINE_APPOINTMENT_CLASS","addEvent","eventTarget","eventDetails","getEventDetails","currentAction","recurrenceID","saveEvent","createInlineAppointmentElement","inlineData","inlineAppointmentElement","inlineDetails","APPOINTMENT_DETAILS","appendChild","inline","applyResourceColor","inlineAppointment","forEach","node","blur","getInlineElement","appointmentSubject","destroy","off"],"sources":["C:/Users/Dell/OneDrive/Desktop/Programs/soc-portal/node_modules/@syncfusion/ej2-schedule/src/schedule/event-renderer/inline-edit.js"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { addClass, createElement, closest, remove, removeClass, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { VerticalEvent } from '../event-renderer/vertical-view';\nimport { MonthEvent } from '../event-renderer/month';\nimport { TimelineEvent } from '../event-renderer/timeline-view';\nimport * as cls from '../base/css-constant';\nimport * as events from '../base/constant';\nimport * as util from '../base/util';\n/**\n * Inline Edit interactions\n */\nvar InlineEdit = /** @class */ (function () {\n    function InlineEdit(parent) {\n        this.parent = parent;\n        this.parent.on(events.inlineClick, this.inlineEdit, this);\n    }\n    InlineEdit.prototype.inlineEdit = function (args) {\n        if (this.parent.quickPopup) {\n            this.parent.quickPopup.quickPopupHide();\n        }\n        if (args.type === 'Cell') {\n            var moreWrapper = this.parent.element.querySelector('.' + cls.MORE_POPUP_WRAPPER_CLASS);\n            if (moreWrapper && moreWrapper.classList.contains(cls.POPUP_OPEN)) {\n                this.parent.quickPopup.morePopup.hide();\n            }\n            this.removeInlineAppointmentElement();\n            this.cellEdit(args);\n        }\n        else {\n            if (this.parent.element.querySelector('.' + cls.INLINE_SUBJECT_CLASS) !==\n                args.element.querySelector('.' + cls.INLINE_SUBJECT_CLASS)) {\n                this.removeInlineAppointmentElement();\n            }\n            this.eventEdit(args);\n        }\n    };\n    InlineEdit.prototype.cellEdit = function (args) {\n        var saveObj = this.generateEventData();\n        var cellIndex = args.element.cellIndex;\n        var count = this.getEventDaysCount(saveObj);\n        if (count > 1) {\n            count = Math.round(count);\n            count--;\n            cellIndex = cellIndex - count;\n        }\n        var start = util.resetTime(new Date('' + saveObj[this.parent.eventFields.startTime])).getTime();\n        var end = util.resetTime(new Date('' + saveObj[this.parent.eventFields.endTime])).getTime();\n        var resIndex = args.groupIndex || 0;\n        var isVertical = this.parent.currentView === 'Day' || this.parent.currentView === 'Week' || this.parent.currentView === 'WorkWeek';\n        if (this.parent.activeViewOptions.timeScale.enable && isVertical) {\n            var dayIndex = saveObj[this.parent.eventFields.startTime].getDay();\n            this.createVerticalViewInline(saveObj, dayIndex, resIndex, cellIndex);\n        }\n        else if (this.parent.currentView === 'Month' || (!this.parent.activeViewOptions.timeScale.enable && isVertical)) {\n            this.createMonthViewInline(saveObj, resIndex, start, end);\n        }\n        else {\n            this.createTimelineViewInline(saveObj, start, end, resIndex);\n        }\n        var inlineSubject = this.parent.element.querySelector('.' + cls.INLINE_SUBJECT_CLASS);\n        if (inlineSubject) {\n            inlineSubject.focus();\n        }\n    };\n    InlineEdit.prototype.eventEdit = function (args) {\n        var inlineSubject = args.element.querySelector('.' + cls.INLINE_SUBJECT_CLASS);\n        var subject;\n        if (inlineSubject) {\n            subject = inlineSubject.value;\n        }\n        else {\n            var subEle = args.element.querySelector('.' + cls.SUBJECT_CLASS);\n            if (!isNullOrUndefined(subEle)) {\n                addClass([subEle], cls.DISABLE_CLASS);\n                subject = subEle.innerText;\n            }\n            else {\n                subject = args.data[this.parent.eventFields.subject];\n            }\n            inlineSubject = this.inlineInputEle =\n                createElement('input', { className: cls.INLINE_SUBJECT_CLASS, attrs: { value: subject } });\n            if (closest(args.element, '.' + cls.MORE_POPUP_WRAPPER_CLASS)) {\n                args.element.insertBefore(inlineSubject, subEle);\n            }\n            else if (['Agenda', 'MonthAgenda'].indexOf(this.parent.currentView) > -1) {\n                var subjectWrap = args.element.querySelector('.' + cls.SUBJECT_WRAP);\n                if (isNullOrUndefined(subjectWrap)) {\n                    subjectWrap = createElement('div', { className: cls.SUBJECT_WRAP });\n                    args.element.prepend(subjectWrap);\n                }\n                subjectWrap.insertBefore(inlineSubject, subjectWrap.firstChild);\n            }\n            else {\n                var elementSelector = ['TimelineDay', 'TimelineWeek', 'TimelineWorkWeek', 'TimelineMonth'].indexOf(this.parent.currentView) > -1 ?\n                    '.e-inner-wrap' : '.e-appointment-details';\n                var innerWrapElement = args.element.querySelector(elementSelector);\n                if (isNullOrUndefined(innerWrapElement)) {\n                    args.element.querySelector('.e-appointment-details').prepend(inlineSubject);\n                }\n                else {\n                    innerWrapElement.prepend(inlineSubject);\n                }\n            }\n            inlineSubject.focus();\n        }\n        inlineSubject.setSelectionRange(subject.length, subject.length);\n    };\n    InlineEdit.prototype.createVerticalViewInline = function (saveObj, dayIndex, resIndex, daysCount) {\n        var _a;\n        var count = this.getEventDaysCount(saveObj);\n        var verticalEvent = new VerticalEvent(this.parent);\n        verticalEvent.initializeValues();\n        var index = verticalEvent.dateRender[parseInt(resIndex.toString(), 10)].map(function (date) { return date.getDay(); }).indexOf(dayIndex);\n        if (count >= 1) {\n            verticalEvent.allDayElement = [].slice.call(this.parent.element.querySelectorAll('.' + cls.ALLDAY_CELLS_CLASS));\n            (_a = verticalEvent.slots).push.apply(_a, this.parent.activeView.renderDates.map(function (date) { return +date; }));\n            var allDayElements = [].slice.call(this.parent.element.querySelectorAll('.' + cls.ALLDAY_APPOINTMENT_CLASS));\n            var allDayLevel = 0;\n            if (allDayElements.length > 0) {\n                allDayLevel = Math.floor(this.parent.getElementHeight(this.parent.element.querySelector('.' + cls.ALLDAY_ROW_CLASS)) /\n                    allDayElements[0].offsetHeight) - 1;\n            }\n            verticalEvent.allDayLevel = allDayLevel;\n            var appHeight = this.parent.getElementHeightFromClass(this.parent.element.querySelector('.' + cls.ALLDAY_APPOINTMENT_WRAPPER_CLASS), cls.APPOINTMENT_CLASS);\n            var cellTop = verticalEvent.allDayElement.length > 0 ? verticalEvent.allDayElement[0].offsetTop : 0;\n            verticalEvent.renderAllDayEvents(saveObj, index, resIndex, daysCount, this.parent.allowInline, cellTop, appHeight);\n        }\n        else {\n            verticalEvent.renderNormalEvents(saveObj, index, resIndex, daysCount, this.parent.allowInline);\n        }\n    };\n    InlineEdit.prototype.createMonthViewInline = function (saveObj, index, start, end) {\n        var count = this.getEventDaysCount(saveObj);\n        var saveObject = this.parent.eventBase.cloneEventObject(saveObj, start, end, count, false, false);\n        var monthEvent = new MonthEvent(this.parent);\n        monthEvent.dateRender = this.parent.activeView.renderDates;\n        monthEvent.inlineValue = this.parent.allowInline;\n        var renderDates = this.parent.activeView.renderDates;\n        var workDays = this.parent.activeViewOptions.workDays;\n        var monthCellSelector = '.' + cls.WORK_CELLS_CLASS;\n        if (this.parent.activeViewOptions.group.resources.length > 0) {\n            monthCellSelector += '[data-group-index=\"' + index + '\"]';\n            var resourceData = this.parent.resourceBase.lastResourceLevel[parseInt(index.toString(), 10)];\n            renderDates = resourceData.renderDates;\n            workDays = resourceData.workDays;\n        }\n        monthEvent.dateRender = renderDates;\n        monthEvent.workCells = [].slice.call(this.parent.element.querySelectorAll(monthCellSelector));\n        monthEvent.cellWidth = monthEvent.workCells[0].offsetWidth;\n        monthEvent.cellHeight = monthEvent.workCells[0].offsetHeight;\n        monthEvent.eventHeight =\n            this.parent.getElementHeightFromClass(this.parent.monthModule.element || monthEvent.element, cls.APPOINTMENT_CLASS);\n        monthEvent.getSlotDates(workDays);\n        var filteredDates = monthEvent.getRenderedDates(renderDates);\n        var spannedEvents = monthEvent.splitEvent(saveObject, filteredDates || renderDates);\n        for (var _i = 0, spannedEvents_1 = spannedEvents; _i < spannedEvents_1.length; _i++) {\n            var eventData = spannedEvents_1[_i];\n            monthEvent.renderEvents(eventData, index);\n        }\n        var inlineSubject = this.parent.element.querySelector('.' + cls.INLINE_SUBJECT_CLASS);\n        inlineSubject.focus();\n    };\n    InlineEdit.prototype.createTimelineViewInline = function (saveObj, start, end, resIndex) {\n        var count = this.getEventDaysCount(saveObj);\n        var saveObject = this.parent.eventBase.cloneEventObject(saveObj, start, end, count, false, false);\n        var timelineView = new TimelineEvent(this.parent, this.parent.activeViewOptions.timeScale.enable ? 'hour' : 'day');\n        timelineView.dateRender = this.parent.activeView.renderDates;\n        timelineView.eventContainers = [].slice.call(this.parent.element.querySelectorAll('.' + cls.APPOINTMENT_CONTAINER_CLASS));\n        var workCell = this.parent.element.querySelector('.' + cls.WORK_CELLS_CLASS);\n        timelineView.inlineValue = this.parent.allowInline;\n        timelineView.cellWidth = workCell.offsetWidth;\n        timelineView.cellHeight = workCell.offsetHeight;\n        var dayLength = this.parent.element.querySelectorAll('.' + cls.CONTENT_TABLE_CLASS + ' tbody tr').length === 0 ?\n            0 : this.parent.element.querySelectorAll('.' + cls.CONTENT_TABLE_CLASS + ' tbody tr')[0].children.length;\n        timelineView.slotsPerDay = dayLength / timelineView.dateRender.length;\n        timelineView.eventHeight = this.parent.getElementHeightFromClass(timelineView.element, cls.APPOINTMENT_CLASS);\n        timelineView.renderEvents(saveObject, resIndex);\n    };\n    InlineEdit.prototype.getEventDaysCount = function (saveObj) {\n        var startDate = saveObj[this.parent.eventFields.startTime];\n        var endDate = saveObj[this.parent.eventFields.endTime];\n        var daysCount = Math.abs(endDate.getTime() - startDate.getTime()) / util.MS_PER_DAY;\n        return daysCount;\n    };\n    InlineEdit.prototype.generateEventData = function (target) {\n        var inlineElement = this.parent.element.querySelector('.' + cls.INLINE_SUBJECT_CLASS);\n        var subject = inlineElement ? inlineElement.value : target ? target.innerHTML : '';\n        var saveObj = {};\n        saveObj[this.parent.eventFields.id] = this.parent.eventBase.getEventMaxID();\n        saveObj[this.parent.eventFields.subject] = subject;\n        saveObj[this.parent.eventFields.startTime] = this.parent.activeCellsData.startTime;\n        saveObj[this.parent.eventFields.endTime] = this.parent.activeCellsData.endTime;\n        saveObj[this.parent.eventFields.isAllDay] = this.parent.activeCellsData.isAllDay;\n        this.parent.eventWindow.setDefaultValueToObject(saveObj);\n        if (this.parent.resourceBase) {\n            this.parent.resourceBase.setResourceValues(saveObj, this.parent.activeCellsData.groupIndex);\n        }\n        return saveObj;\n    };\n    InlineEdit.prototype.documentClick = function (target) {\n        if (target && target.value !== '') {\n            this.inlineCrudActions(target);\n        }\n        else {\n            this.removeInlineAppointmentElement();\n        }\n    };\n    InlineEdit.prototype.inlineCrudActions = function (target) {\n        if (closest(target, '.' + cls.INLINE_APPOINTMENT_CLASS)) {\n            var saveObj = this.generateEventData(target);\n            this.parent.addEvent(saveObj);\n        }\n        else {\n            var eventTarget = closest(target, '.' + cls.APPOINTMENT_CLASS);\n            var eventDetails = this.parent.getEventDetails(eventTarget);\n            eventDetails[this.parent.eventFields.subject] = target.value;\n            var currentAction = void 0;\n            if (eventDetails[this.parent.eventFields.id] === eventDetails[this.parent.eventFields.recurrenceID]) {\n                currentAction = 'EditOccurrence';\n                eventDetails[this.parent.eventFields.id] = this.parent.eventBase.getEventMaxID();\n            }\n            this.parent.saveEvent(eventDetails, currentAction);\n        }\n        this.removeInlineAppointmentElement();\n    };\n    InlineEdit.prototype.createInlineAppointmentElement = function (inlineData) {\n        var inlineAppointmentElement = createElement('div', {\n            className: cls.APPOINTMENT_CLASS + ' ' + cls.INLINE_APPOINTMENT_CLASS\n        });\n        var inlineDetails = createElement('div', { className: cls.APPOINTMENT_DETAILS });\n        inlineAppointmentElement.appendChild(inlineDetails);\n        var inline = this.inlineInputEle =\n            createElement('input', { className: cls.INLINE_SUBJECT_CLASS });\n        inlineDetails.appendChild(inline);\n        if (inlineData) {\n            this.parent.eventBase.applyResourceColor(inlineAppointmentElement, inlineData, 'backgroundColor');\n        }\n        return inlineAppointmentElement;\n    };\n    InlineEdit.prototype.removeInlineAppointmentElement = function () {\n        var inlineAppointment = [].slice.call(this.parent.element.querySelectorAll('.' + cls.INLINE_APPOINTMENT_CLASS));\n        if (inlineAppointment.length > 0) {\n            inlineAppointment.forEach(function (node) {\n                var inlineSubject = node.querySelector('.' + cls.INLINE_SUBJECT_CLASS);\n                if (!isNullOrUndefined(inlineSubject)) {\n                    inlineSubject.blur();\n                }\n                remove(node);\n            });\n        }\n        var inlineSubject = this.getInlineElement();\n        if (inlineSubject) {\n            var appointmentSubject = closest(inlineSubject, '.' + cls.APPOINTMENT_CLASS);\n            var subject = appointmentSubject.querySelector('.' + cls.SUBJECT_CLASS);\n            if (!isNullOrUndefined(subject)) {\n                removeClass([subject], cls.DISABLE_CLASS);\n            }\n            remove(inlineSubject);\n        }\n        this.inlineInputEle = null;\n    };\n    InlineEdit.prototype.getInlineElement = function () {\n        return this.inlineInputEle;\n    };\n    InlineEdit.prototype.destroy = function () {\n        this.inlineInputEle = null;\n        this.parent.off(events.inlineClick, this.inlineEdit);\n    };\n    return InlineEdit;\n}());\nexport { InlineEdit };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}